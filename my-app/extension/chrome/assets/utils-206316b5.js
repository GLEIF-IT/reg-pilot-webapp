var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function Er(c){if(c.__esModule)return c;var u=c.default;if(typeof u=="function"){var l=function p(){return this instanceof p?Reflect.construct(u,arguments,this.constructor):u.apply(this,arguments)};l.prototype=u.prototype}else l={};return Object.defineProperty(l,"__esModule",{value:!0}),Object.keys(c).forEach(function(p){var m=Object.getOwnPropertyDescriptor(c,p);Object.defineProperty(l,p,m.get?m:{enumerable:!0,get:function(){return c[p]}})}),l}var Le={exports:{}};(function(c,u){(function(l,p){p(c)})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:Ze,function(l){var p,m;if(!((m=(p=globalThis.chrome)==null?void 0:p.runtime)!=null&&m.id))throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){const A="The message port closed before a response was received.",g=o=>{const y={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(y).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class P extends WeakMap{constructor(h,w=void 0){super(w),this.createItem=h}get(h){return this.has(h)||this.set(h,this.createItem(h)),super.get(h)}}const S=f=>f&&typeof f=="object"&&typeof f.then=="function",U=(f,h)=>(...w)=>{o.runtime.lastError?f.reject(new Error(o.runtime.lastError.message)):h.singleCallbackArg||w.length<=1&&h.singleCallbackArg!==!1?f.resolve(w[0]):f.resolve(w)},D=f=>f==1?"argument":"arguments",k=(f,h)=>function(B,...O){if(O.length<h.minArgs)throw new Error(`Expected at least ${h.minArgs} ${D(h.minArgs)} for ${f}(), got ${O.length}`);if(O.length>h.maxArgs)throw new Error(`Expected at most ${h.maxArgs} ${D(h.maxArgs)} for ${f}(), got ${O.length}`);return new Promise((M,V)=>{if(h.fallbackToNoCallback)try{B[f](...O,U({resolve:M,reject:V},h))}catch(x){console.warn(`${f} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,x),B[f](...O),h.fallbackToNoCallback=!1,h.noCallback=!0,M()}else h.noCallback?(B[f](...O),M()):B[f](...O,U({resolve:M,reject:V},h))})},K=(f,h,w)=>new Proxy(h,{apply(B,O,M){return w.call(O,f,...M)}});let v=Function.call.bind(Object.prototype.hasOwnProperty);const oe=(f,h={},w={})=>{let B=Object.create(null),O={has(V,x){return x in f||x in B},get(V,x,W){if(x in B)return B[x];if(!(x in f))return;let N=f[x];if(typeof N=="function")if(typeof h[x]=="function")N=K(f,f[x],h[x]);else if(v(w,x)){let ne=k(x,w[x]);N=K(f,f[x],ne)}else N=N.bind(f);else if(typeof N=="object"&&N!==null&&(v(h,x)||v(w,x)))N=oe(N,h[x],w[x]);else if(v(w,"*"))N=oe(N,h[x],w["*"]);else return Object.defineProperty(B,x,{configurable:!0,enumerable:!0,get(){return f[x]},set(ne){f[x]=ne}}),N;return B[x]=N,N},set(V,x,W,N){return x in B?B[x]=W:f[x]=W,!0},defineProperty(V,x,W){return Reflect.defineProperty(B,x,W)},deleteProperty(V,x){return Reflect.deleteProperty(B,x)}},M=Object.create(f);return new Proxy(M,O)},E=f=>({addListener(h,w,...B){h.addListener(f.get(w),...B)},hasListener(h,w){return h.hasListener(f.get(w))},removeListener(h,w){h.removeListener(f.get(w))}}),ce=new P(f=>typeof f!="function"?f:function(w){const B=oe(w,{},{getContent:{minArgs:0,maxArgs:0}});f(B)}),z=new P(f=>typeof f!="function"?f:function(w,B,O){let M=!1,V,x=new Promise(se=>{V=function(q){M=!0,se(q)}}),W;try{W=f(w,B,V)}catch(se){W=Promise.reject(se)}const N=W!==!0&&S(W);if(W!==!0&&!N&&!M)return!1;const ne=se=>{se.then(q=>{O(q)},q=>{let F;q&&(q instanceof Error||typeof q.message=="string")?F=q.message:F="An unexpected error occurred",O({__mozWebExtensionPolyfillReject__:!0,message:F})}).catch(q=>{console.error("Failed to send onMessage rejected reply",q)})};return ne(N?W:x),!0}),we=({reject:f,resolve:h},w)=>{o.runtime.lastError?o.runtime.lastError.message===A?h():f(new Error(o.runtime.lastError.message)):w&&w.__mozWebExtensionPolyfillReject__?f(new Error(w.message)):h(w)},Z=(f,h,w,...B)=>{if(B.length<h.minArgs)throw new Error(`Expected at least ${h.minArgs} ${D(h.minArgs)} for ${f}(), got ${B.length}`);if(B.length>h.maxArgs)throw new Error(`Expected at most ${h.maxArgs} ${D(h.maxArgs)} for ${f}(), got ${B.length}`);return new Promise((O,M)=>{const V=we.bind(null,{resolve:O,reject:M});B.push(V),w.sendMessage(...B)})},pe={devtools:{network:{onRequestFinished:E(ce)}},runtime:{onMessage:E(z),onMessageExternal:E(z),sendMessage:Z.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:Z.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},ue={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return y.privacy={network:{"*":ue},services:{"*":ue},websites:{"*":ue}},oe(o,pe,y)};l.exports=g(chrome)}else l.exports=globalThis.browser})})(Le);var Je=Le.exports;const de=Xe(Je),Qe=()=>de.storage.local,er=(c=Qe())=>{const u=c;return{getAllKeys:async()=>{const o=await u.get(null);return Object.keys(o)},getValue:async o=>(await u.get(o))[o],getValues:async o=>await u.get(o),removeKey:async o=>await u.remove(o),setValue:async(o,y)=>await u.set({[o]:y})}},L=er(),rr="Keria",tr="https://github.com/WebOfTrust/signify-browser-extension",nr="https://github.com/WebOfTrust/signify-browser-extension",ir="https://github.com/WebOfTrust/signify-browser-extension",or={colors:{primary:"#078007",secondary:"#04323b",error:"#e60d0d",heading:"#5e2b8f",text:"grey",subtext:"#ffffff",white:"#ffffff",black:"#373e49",bodyBg:"#ffffff",bodyBorder:"#9A6C2E",bodyColor:"#9A6C2E",cardColor:"#249624",cardBg:"#ffffff"}},sr={title:rr,onboardingUrl:tr,docsUrl:nr,supportUrl:ir,theme:or},b={VENDOR_URL:"vendor-url",VENDOR_DATA:"vendor-data",VENDOR_LANG:"vendor-lang",AGENT_URL:"agent-url",BOOT_URL:"boot-url",HAS_ONBOARDED:"has-onboarded",WEB_APP_PERMISSION:"WEB_APP_PERMISSION"},Br={SET_VENDOR_URL:`${b.WEB_APP_PERMISSION}_set_vendor-url`},ar=()=>{const c=async()=>await L.getValue(b.VENDOR_URL),u=async()=>{await L.removeKey(b.VENDOR_URL)},l=async E=>{await L.setValue(b.VENDOR_URL,E)},p=async()=>await L.getValue(b.VENDOR_DATA)??sr,m=async()=>{await L.removeKey(b.VENDOR_DATA)},A=async E=>{await L.setValue(b.VENDOR_DATA,E)},g=async()=>await L.getValue(b.VENDOR_LANG),o=async E=>{await L.setValue(b.VENDOR_LANG,E)},y=async()=>await L.getValue(b.AGENT_URL),P=async E=>{await L.setValue(b.BOOT_URL,E)},S=async()=>await L.getValue(b.BOOT_URL),U=async E=>{await L.setValue(b.AGENT_URL,E)},D=async()=>await L.getValue(b.HAS_ONBOARDED),k=async E=>{await L.setValue(b.HAS_ONBOARDED,E)},K=async()=>{const E=await L.getValues([b.AGENT_URL,b.VENDOR_URL,b.VENDOR_DATA,b.HAS_ONBOARDED,b.BOOT_URL]);return{vendorUrl:E[b.VENDOR_URL],agentUrl:E[b.AGENT_URL],vendorData:E[b.VENDOR_DATA],hasOnboarded:E[b.HAS_ONBOARDED],bootUrl:E[b.BOOT_URL]}},v=async()=>await L.getValue(b.WEB_APP_PERMISSION)??{};return{setVendorUrl:l,removeVendorUrl:u,getVendorUrl:c,getVendorData:p,removeVendorData:m,setVendorData:A,getLanguage:g,setLanguage:o,getAgentUrl:y,setAgentUrl:U,setBootUrl:P,getBootUrl:S,getHasOnboarded:D,setHasOnboarded:k,getAgentAndVendorInfo:K,setWebRequestedPermission:async(E,ce)=>{const z=await v();z[E]&&ce==="delete"?delete z[E]:z[E]=ce,await L.setValue(b.WEB_APP_PERMISSION,z)},getWebRequestedPermissions:v}},_r=ar(),Y="cs-",G="ui-",cr="sw-",T={action_icon:"action-icon",authentication:"authentication",create_resource:"create-resource",delete_resource:"delete-resource",fetch_resource:"fetch-resource",update_resource:"update-resource",vendor_info:"vendor-info"},br={action_icon_set:`${Y}-${T.action_icon}-set`,action_icon_unset:`${Y}-${T.action_icon}-unset`,action_icon_set_tab:`${Y}-${T.action_icon}-set-tab`,action_icon_unset_tab:`${Y}-${T.action_icon}-unset-tab`,fetch_resource_auto_signin_signature:`${Y}-${T.fetch_resource}-auto-signin-signature`,fetch_resource_signed_headers:`${Y}-${T.fetch_resource}-signed-headers`,fetch_resource_tab_signin:`${Y}-${T.fetch_resource}-tab-signin`,vendor_info_get_vendor_data:`${Y}-${T.vendor_info}-get-vendor-data`,vendor_info_provide_config_url:`${Y}-${T.vendor_info}-provide-config-url`,authentication_check_agent_connection:`${Y}-${T.authentication}-check-agent-connection`,authentication_get_signed_headers:`${Y}-${T.authentication}-get-signed-headers`},Ir={action_icon_unset:`${G}-${T.action_icon}-unset`,authentication_check_agent_connection:`${G}-${T.authentication}-check-agent-connection`,authentication_disconnect_agent:`${G}-${T.authentication}-disconnect-agent`,authentication_connect_agent:`${G}-${T.authentication}-connect-agent`,authentication_boot_connect_agent:`${G}-${T.authentication}-boot-connect-agent`,authentication_generate_passcode:`${G}-${T.authentication}-generate-passcode`,create_resource_signin:`${G}-${T.create_resource}-signin`,create_resource_identifier:`${G}-${T.create_resource}-identifier`,fetch_resource_identifiers:`${G}-${T.fetch_resource}-identifiers`,fetch_resource_signins:`${G}-${T.fetch_resource}-signins`,fetch_resource_credentials:`${G}-${T.fetch_resource}-credentials`,update_resource_auto_signin:`${G}-${T.update_resource}-auto-signin`,delete_resource_signins:`${G}-${T.delete_resource}-signins`},Tr={check_popup_open:`${cr}-check-popup-open`},Ur=()=>de.runtime.id,Fr=async({type:c,data:u})=>de.runtime.sendMessage({type:c,data:u}),Rr=async(c,{type:u,data:l})=>de.runtime.sendMessage(c,{type:u,data:l});var ur={},Pe={},ye={};ye.byteLength=fr;ye.toByteArray=mr;ye.fromByteArray=xr;var ee=[],H=[],lr=typeof Uint8Array<"u"?Uint8Array:Array,be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var fe=0,gr=be.length;fe<gr;++fe)ee[fe]=be[fe],H[be.charCodeAt(fe)]=fe;H["-".charCodeAt(0)]=62;H["_".charCodeAt(0)]=63;function De(c){var u=c.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=c.indexOf("=");l===-1&&(l=u);var p=l===u?0:4-l%4;return[l,p]}function fr(c){var u=De(c),l=u[0],p=u[1];return(l+p)*3/4-p}function hr(c,u,l){return(u+l)*3/4-l}function mr(c){var u,l=De(c),p=l[0],m=l[1],A=new lr(hr(c,p,m)),g=0,o=m>0?p-4:p,y;for(y=0;y<o;y+=4)u=H[c.charCodeAt(y)]<<18|H[c.charCodeAt(y+1)]<<12|H[c.charCodeAt(y+2)]<<6|H[c.charCodeAt(y+3)],A[g++]=u>>16&255,A[g++]=u>>8&255,A[g++]=u&255;return m===2&&(u=H[c.charCodeAt(y)]<<2|H[c.charCodeAt(y+1)]>>4,A[g++]=u&255),m===1&&(u=H[c.charCodeAt(y)]<<10|H[c.charCodeAt(y+1)]<<4|H[c.charCodeAt(y+2)]>>2,A[g++]=u>>8&255,A[g++]=u&255),A}function pr(c){return ee[c>>18&63]+ee[c>>12&63]+ee[c>>6&63]+ee[c&63]}function Ar(c,u,l){for(var p,m=[],A=u;A<l;A+=3)p=(c[A]<<16&16711680)+(c[A+1]<<8&65280)+(c[A+2]&255),m.push(pr(p));return m.join("")}function xr(c){for(var u,l=c.length,p=l%3,m=[],A=16383,g=0,o=l-p;g<o;g+=A)m.push(Ar(c,g,g+A>o?o:g+A));return p===1?(u=c[l-1],m.push(ee[u>>2]+ee[u<<4&63]+"==")):p===2&&(u=(c[l-2]<<8)+c[l-1],m.push(ee[u>>10]+ee[u>>4&63]+ee[u<<2&63]+"=")),m.join("")}var Ue={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ue.read=function(c,u,l,p,m){var A,g,o=m*8-p-1,y=(1<<o)-1,P=y>>1,S=-7,U=l?m-1:0,D=l?-1:1,k=c[u+U];for(U+=D,A=k&(1<<-S)-1,k>>=-S,S+=o;S>0;A=A*256+c[u+U],U+=D,S-=8);for(g=A&(1<<-S)-1,A>>=-S,S+=p;S>0;g=g*256+c[u+U],U+=D,S-=8);if(A===0)A=1-P;else{if(A===y)return g?NaN:(k?-1:1)*(1/0);g=g+Math.pow(2,p),A=A-P}return(k?-1:1)*g*Math.pow(2,A-p)};Ue.write=function(c,u,l,p,m,A){var g,o,y,P=A*8-m-1,S=(1<<P)-1,U=S>>1,D=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=p?0:A-1,K=p?1:-1,v=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(o=isNaN(u)?1:0,g=S):(g=Math.floor(Math.log(u)/Math.LN2),u*(y=Math.pow(2,-g))<1&&(g--,y*=2),g+U>=1?u+=D/y:u+=D*Math.pow(2,1-U),u*y>=2&&(g++,y/=2),g+U>=S?(o=0,g=S):g+U>=1?(o=(u*y-1)*Math.pow(2,m),g=g+U):(o=u*Math.pow(2,U-1)*Math.pow(2,m),g=0));m>=8;c[l+k]=o&255,k+=K,o/=256,m-=8);for(g=g<<m|o,P+=m;P>0;c[l+k]=g&255,k+=K,g/=256,P-=8);c[l+k-K]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(c){const u=ye,l=Ue,p=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c.Buffer=o,c.SlowBuffer=ce,c.INSPECT_MAX_BYTES=50;const m=2147483647;c.kMaxLength=m,o.TYPED_ARRAY_SUPPORT=A(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function A(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function g(t){if(t>m)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,o.prototype),e}function o(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return U(t)}return y(t,e,r)}o.poolSize=8192;function y(t,e,r){if(typeof t=="string")return D(t,e);if(ArrayBuffer.isView(t))return K(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return v(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return o.from(n,e,r);const i=oe(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return o.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}o.from=function(t,e,r){return y(t,e,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function P(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function S(t,e,r){return P(t),t<=0?g(t):e!==void 0?typeof r=="string"?g(t).fill(e,r):g(t).fill(e):g(t)}o.alloc=function(t,e,r){return S(t,e,r)};function U(t){return P(t),g(t<0?0:E(t)|0)}o.allocUnsafe=function(t){return U(t)},o.allocUnsafeSlow=function(t){return U(t)};function D(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=z(t,e)|0;let n=g(r);const i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function k(t){const e=t.length<0?0:E(t.length)|0,r=g(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function K(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return v(e.buffer,e.byteOffset,e.byteLength)}return k(t)}function v(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,o.prototype),n}function oe(t){if(o.isBuffer(t)){const e=E(t.length)|0,r=g(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||_e(t.length)?g(0):k(t);if(t.type==="Buffer"&&Array.isArray(t.data))return k(t.data)}function E(t){if(t>=m)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return t|0}function ce(t){return+t!=t&&(t=0),o.alloc(+t)}o.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==o.prototype},o.compare=function(e,r){if(X(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),X(r,Uint8Array)&&(r=o.from(r,r.offset,r.byteLength)),!o.isBuffer(e)||!o.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let s=0,a=Math.min(n,i);s<a;++s)if(e[s]!==r[s]){n=e[s],i=r[s];break}return n<i?-1:i<n?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return o.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;const i=o.allocUnsafe(r);let s=0;for(n=0;n<e.length;++n){let a=e[n];if(X(a,Uint8Array))s+a.length>i.length?(o.isBuffer(a)||(a=o.from(a)),a.copy(i,s)):Uint8Array.prototype.set.call(i,a,s);else if(o.isBuffer(a))a.copy(i,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=a.length}return i};function z(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Be(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ke(t).length;default:if(i)return n?-1:Be(t).length;e=(""+e).toLowerCase(),i=!0}}o.byteLength=z;function we(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return se(this,e,r);case"utf8":case"utf-8":return V(this,e,r);case"ascii":return N(this,e,r);case"latin1":case"binary":return ne(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}o.prototype._isBuffer=!0;function Z(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}o.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Z(this,r,r+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Z(this,r,r+3),Z(this,r+1,r+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Z(this,r,r+7),Z(this,r+1,r+6),Z(this,r+2,r+5),Z(this,r+3,r+4);return this},o.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?V(this,0,e):we.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:o.compare(this,e)===0},o.prototype.inspect=function(){let e="";const r=c.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},p&&(o.prototype[p]=o.prototype.inspect),o.prototype.compare=function(e,r,n,i,s){if(X(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),s===void 0&&(s=this.length),r<0||n>e.length||i<0||s>this.length)throw new RangeError("out of range index");if(i>=s&&r>=n)return 0;if(i>=s)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,s>>>=0,this===e)return 0;let a=s-i,d=n-r;const R=Math.min(a,d),I=this.slice(i,s),C=e.slice(r,n);for(let _=0;_<R;++_)if(I[_]!==C[_]){a=I[_],d=C[_];break}return a<d?-1:d<a?1:0};function pe(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,_e(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=o.from(e,n)),o.isBuffer(e))return e.length===0?-1:ue(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):ue(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function ue(t,e,r,n,i){let s=1,a=t.length,d=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;s=2,a/=2,d/=2,r/=2}function R(C,_){return s===1?C[_]:C.readUInt16BE(_*s)}let I;if(i){let C=-1;for(I=r;I<a;I++)if(R(t,I)===R(e,C===-1?0:I-C)){if(C===-1&&(C=I),I-C+1===d)return C*s}else C!==-1&&(I-=I-C),C=-1}else for(r+d>a&&(r=a-d),I=r;I>=0;I--){let C=!0;for(let _=0;_<d;_++)if(R(t,I+_)!==R(e,_)){C=!1;break}if(C)return I}return-1}o.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1},o.prototype.indexOf=function(e,r,n){return pe(this,e,r,n,!0)},o.prototype.lastIndexOf=function(e,r,n){return pe(this,e,r,n,!1)};function f(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;const s=e.length;n>s/2&&(n=s/2);let a;for(a=0;a<n;++a){const d=parseInt(e.substr(a*2,2),16);if(_e(d))return a;t[r+a]=d}return a}function h(t,e,r,n){return Ae(Be(e,t.length-r),t,r,n)}function w(t,e,r,n){return Ae(He(e),t,r,n)}function B(t,e,r,n){return Ae(ke(e),t,r,n)}function O(t,e,r,n){return Ae(Ye(e,t.length-r),t,r,n)}o.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const s=this.length-r;if((n===void 0||n>s)&&(n=s),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return f(this,e,r,n);case"utf8":case"utf-8":return h(this,e,r,n);case"ascii":case"latin1":case"binary":return w(this,e,r,n);case"base64":return B(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,r){return e===0&&r===t.length?u.fromByteArray(t):u.fromByteArray(t.slice(e,r))}function V(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const s=t[i];let a=null,d=s>239?4:s>223?3:s>191?2:1;if(i+d<=r){let R,I,C,_;switch(d){case 1:s<128&&(a=s);break;case 2:R=t[i+1],(R&192)===128&&(_=(s&31)<<6|R&63,_>127&&(a=_));break;case 3:R=t[i+1],I=t[i+2],(R&192)===128&&(I&192)===128&&(_=(s&15)<<12|(R&63)<<6|I&63,_>2047&&(_<55296||_>57343)&&(a=_));break;case 4:R=t[i+1],I=t[i+2],C=t[i+3],(R&192)===128&&(I&192)===128&&(C&192)===128&&(_=(s&15)<<18|(R&63)<<12|(I&63)<<6|C&63,_>65535&&_<1114112&&(a=_))}}a===null?(a=65533,d=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=d}return W(n)}const x=4096;function W(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}function N(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function ne(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function se(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=e;s<r;++s)i+=Ke[t[s]];return i}function q(t,e,r){const n=t.slice(e,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+n[s+1]*256);return i}o.prototype.slice=function(e,r){const n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);const i=this.subarray(e,r);return Object.setPrototypeOf(i,o.prototype),i};function F(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||F(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return i},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||F(e,r,this.length);let i=this[e+--r],s=1;for(;r>0&&(s*=256);)i+=this[e+--r]*s;return i},o.prototype.readUint8=o.prototype.readUInt8=function(e,r){return e=e>>>0,r||F(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||F(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||F(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||F(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||F(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=ie(function(e){e=e>>>0,ge(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&me(e,this.length-8);const i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(s)<<BigInt(32))}),o.prototype.readBigUInt64BE=ie(function(e){e=e>>>0,ge(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&me(e,this.length-8);const i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(s)}),o.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||F(e,r,this.length);let i=this[e],s=1,a=0;for(;++a<r&&(s*=256);)i+=this[e+a]*s;return s*=128,i>=s&&(i-=Math.pow(2,8*r)),i},o.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||F(e,r,this.length);let i=r,s=1,a=this[e+--i];for(;i>0&&(s*=256);)a+=this[e+--i]*s;return s*=128,a>=s&&(a-=Math.pow(2,8*r)),a},o.prototype.readInt8=function(e,r){return e=e>>>0,r||F(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},o.prototype.readInt16LE=function(e,r){e=e>>>0,r||F(e,2,this.length);const n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n},o.prototype.readInt16BE=function(e,r){e=e>>>0,r||F(e,2,this.length);const n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n},o.prototype.readInt32LE=function(e,r){return e=e>>>0,r||F(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,r){return e=e>>>0,r||F(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=ie(function(e){e=e>>>0,ge(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&me(e,this.length-8);const i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),o.prototype.readBigInt64BE=ie(function(e){e=e>>>0,ge(e,"offset");const r=this[e],n=this[e+7];(r===void 0||n===void 0)&&me(e,this.length-8);const i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)}),o.prototype.readFloatLE=function(e,r){return e=e>>>0,r||F(e,4,this.length),l.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,r){return e=e>>>0,r||F(e,4,this.length),l.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||F(e,8,this.length),l.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||F(e,8,this.length),l.read(this,e,!1,52,8)};function j(t,e,r,n,i,s){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){const d=Math.pow(2,8*n)-1;j(this,e,r,n,d,0)}let s=1,a=0;for(this[r]=e&255;++a<n&&(s*=256);)this[r+a]=e/s&255;return r+n},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){const d=Math.pow(2,8*n)-1;j(this,e,r,n,d,0)}let s=n-1,a=1;for(this[r+s]=e&255;--s>=0&&(a*=256);)this[r+s]=e/a&255;return r+n},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,1,255,0),this[r]=e&255,r+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Fe(t,e,r,n,i){Oe(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function Re(t,e,r,n,i){Oe(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s=s>>8,t[r+6]=s,s=s>>8,t[r+5]=s,s=s>>8,t[r+4]=s;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}o.prototype.writeBigUInt64LE=ie(function(e,r=0){return Fe(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=ie(function(e,r=0){return Re(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){const R=Math.pow(2,8*n-1);j(this,e,r,n,R-1,-R)}let s=0,a=1,d=0;for(this[r]=e&255;++s<n&&(a*=256);)e<0&&d===0&&this[r+s-1]!==0&&(d=1),this[r+s]=(e/a>>0)-d&255;return r+n},o.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){const R=Math.pow(2,8*n-1);j(this,e,r,n,R-1,-R)}let s=n-1,a=1,d=0;for(this[r+s]=e&255;--s>=0&&(a*=256);)e<0&&d===0&&this[r+s+1]!==0&&(d=1),this[r+s]=(e/a>>0)-d&255;return r+n},o.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1},o.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2},o.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2},o.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},o.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||j(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4},o.prototype.writeBigInt64LE=ie(function(e,r=0){return Fe(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=ie(function(e,r=0){return Re(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Se(t,e,r,n,i){return e=+e,r=r>>>0,i||Ce(t,e,r,4),l.write(t,e,r,n,23,4),r+4}o.prototype.writeFloatLE=function(e,r,n){return Se(this,e,r,!0,n)},o.prototype.writeFloatBE=function(e,r,n){return Se(this,e,r,!1,n)};function $e(t,e,r,n,i){return e=+e,r=r>>>0,i||Ce(t,e,r,8),l.write(t,e,r,n,52,8),r+8}o.prototype.writeDoubleLE=function(e,r,n){return $e(this,e,r,!0,n)},o.prototype.writeDoubleBE=function(e,r,n){return $e(this,e,r,!1,n)},o.prototype.copy=function(e,r,n,i){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);const s=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),s},o.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){const a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let s;if(typeof e=="number")for(s=r;s<n;++s)this[s]=e;else{const a=o.isBuffer(e)?e:o.from(e,i),d=a.length;if(d===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<n-r;++s)this[s+r]=a[s%d]}return this};const le={};function Ee(t,e,r){le[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Ne(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Ne(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Ne(t){let e="",r=t.length;const n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ve(t,e,r){ge(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&me(e,t.length-(r+1))}function Oe(t,e,r,n,i,s){if(t>r||t<e){const a=typeof e=="bigint"?"n":"";let d;throw s>3?e===0||e===BigInt(0)?d=`>= 0${a} and < 2${a} ** ${(s+1)*8}${a}`:d=`>= -(2${a} ** ${(s+1)*8-1}${a}) and < 2 ** ${(s+1)*8-1}${a}`:d=`>= ${e}${a} and <= ${r}${a}`,new le.ERR_OUT_OF_RANGE("value",d,t)}ve(n,i,s)}function ge(t,e){if(typeof t!="number")throw new le.ERR_INVALID_ARG_TYPE(e,"number",t)}function me(t,e,r){throw Math.floor(t)!==t?(ge(t,r),new le.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new le.ERR_BUFFER_OUT_OF_BOUNDS:new le.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}const Ge=/[^+/0-9A-Za-z-_]/g;function qe(t){if(t=t.split("=")[0],t=t.trim().replace(Ge,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Be(t,e){e=e||1/0;let r;const n=t.length;let i=null;const s=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return s}function He(t){const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Ye(t,e){let r,n,i;const s=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,s.push(i),s.push(n);return s}function ke(t){return u.toByteArray(qe(t))}function Ae(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function X(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function _e(t){return t!==t}const Ke=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function ie(t){return typeof BigInt>"u"?ze:t}function ze(){throw new Error("BigInt not supported")}})(Pe);var Me={exports:{}},$=Me.exports={},J,Q;function Ie(){throw new Error("setTimeout has not been defined")}function Te(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?J=setTimeout:J=Ie}catch{J=Ie}try{typeof clearTimeout=="function"?Q=clearTimeout:Q=Te}catch{Q=Te}})();function Ve(c){if(J===setTimeout)return setTimeout(c,0);if((J===Ie||!J)&&setTimeout)return J=setTimeout,setTimeout(c,0);try{return J(c,0)}catch{try{return J.call(null,c,0)}catch{return J.call(this,c,0)}}}function dr(c){if(Q===clearTimeout)return clearTimeout(c);if((Q===Te||!Q)&&clearTimeout)return Q=clearTimeout,clearTimeout(c);try{return Q(c)}catch{try{return Q.call(null,c)}catch{return Q.call(this,c)}}}var re=[],he=!1,ae,xe=-1;function yr(){!he||!ae||(he=!1,ae.length?re=ae.concat(re):xe=-1,re.length&&We())}function We(){if(!he){var c=Ve(yr);he=!0;for(var u=re.length;u;){for(ae=re,re=[];++xe<u;)ae&&ae[xe].run();xe=-1,u=re.length}ae=null,he=!1,dr(c)}}$.nextTick=function(c){var u=new Array(arguments.length-1);if(arguments.length>1)for(var l=1;l<arguments.length;l++)u[l-1]=arguments[l];re.push(new je(c,u)),re.length===1&&!he&&Ve(We)};function je(c,u){this.fun=c,this.array=u}je.prototype.run=function(){this.fun.apply(null,this.array)};$.title="browser";$.browser=!0;$.env={};$.argv=[];$.version="";$.versions={};function te(){}$.on=te;$.addListener=te;$.once=te;$.off=te;$.removeListener=te;$.removeAllListeners=te;$.emit=te;$.prependListener=te;$.prependOnceListener=te;$.listeners=function(c){return[]};$.binding=function(c){throw new Error("process.binding is not supported")};$.cwd=function(){return"/"};$.chdir=function(c){throw new Error("process.chdir is not supported")};$.umask=function(){return 0};var wr=Me.exports;(function(c){Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});const u=Pe,l=wr,p=g=>g&&g.__esModule?g:{default:g},m=p(l),A=globalThis||void 0||self;Object.defineProperty(c,"Buffer",{enumerable:!0,get:()=>u.Buffer}),Object.defineProperty(c,"process",{enumerable:!0,get:()=>m.default}),c.global=A})(ur);const Sr=c=>{try{return new URL(c)}catch{return!1}},$r=c=>{if(c.length<=12+8)return c;const p=c.slice(0,12),m=c.slice(-8);return`${p}...${m}`},Nr=c=>{const u=new URL(c);return`${u.protocol}//${u.hostname}${u.port?":"+u.port:""}`},Or=c=>{const u=new URL(c);return u==null?void 0:u.hostname},kr=c=>c.indexOf(" ")>=0,Lr=(c,u="")=>c.replace(/\s/g,u),Pr=async c=>{try{const u=await fetch(c).then(g=>g.blob()),l=await createImageBitmap(u),m=new OffscreenCanvas(l.width,l.height).getContext("2d");return m==null||m.drawImage(l,0,0),m==null?void 0:m.getImageData(0,0,l.width,l.height)}catch{}};export{br as C,Tr as S,Ir as U,Br as W,Ur as a,de as b,Rr as c,Er as d,ur as e,Pe as f,Or as g,Ze as h,Xe as i,L as j,_r as k,Nr as l,Sr as m,kr as n,$r as o,sr as p,Pr as q,Lr as r,Fr as s};
