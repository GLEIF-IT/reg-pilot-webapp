import{r as u,h as cn,s as an,d as ne,j as n,a as T,T as k,C as Qe,F as U,c as G,l as Yn,i as Gn,k as Ge,D as Kn,u as ye,G as Qn,f as Kt,N as Ot,m as Jn,S as Je,b as jn,n as Me,o as ot,p as Sn,_ as Bt,q as eo,e as ge,M as to,v as no,L as oo,I as ro,t as io,g as so}from"./signin-aa57d0a7.js";import{g as lo,k as V,m as ke,W as Cn,s as K,U as Q,i as co,e as _e,o as ao,n as uo,r as fo,p as ho,b as go,a as mo,S as xo}from"./utils-206316b5.js";import{c as Rt,g as et,d as me}from"./action-utils-ce28d3ee.js";function po(e,t){var o=e.values,r=cn(e,["values"]),i=t.values,s=cn(t,["values"]);return an(i,o)&&an(r,s)}function En(e){var t=ne(),o=t.formatMessage,r=t.textComponent,i=r===void 0?u.Fragment:r,s=e.id,l=e.description,c=e.defaultMessage,a=e.values,d=e.children,f=e.tagName,h=f===void 0?i:f,w=e.ignoreTag,m={id:s,description:l,defaultMessage:c},x=o(m,a,{ignoreTag:w});return typeof d=="function"?d(Array.isArray(x)?x:[x]):h?u.createElement(h,null,u.Children.toArray(x)):u.createElement(u.Fragment,null,x)}En.displayName="FormattedMessage";var _n=u.memo(En,po);_n.displayName="MemoizedFormattedMessage";const Ht=_n;(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();function wo({permissionData:e,isConnected:t,afterCallback:o,handleDisconnect:r}){const[i,s]=u.useState(),[l,c]=u.useState(!1),[a,d]=u.useState(!1),[f,h]=u.useState(""),{formatMessage:w}=ne(),m=w({id:"config.error.enterUrl"}),x=w({id:"config.error.invalidVendorUrl"}),g=()=>!(e!=null&&e.vendorUrl)||!ke(e==null?void 0:e.vendorUrl)?(h(m),!0):(h(""),!1),y=async()=>{await V.setWebRequestedPermission(Cn.SET_VENDOR_URL,"delete"),await K({type:Q.action_icon_unset})},v=async $=>{ke($)&&await V.setBootUrl($)},j=async $=>{!$||!ke($)||(await V.setAgentUrl($),await V.setHasOnboarded(!0))},b=async()=>{let $=g();try{d(!0);const A=await(await fetch(e==null?void 0:e.vendorUrl)).json();if(d(!1),s(A),A!=null&&A.agentUrl&&t){c(!0);return}A!=null&&A.agentUrl&&await j(A==null?void 0:A.agentUrl),A!=null&&A.bootUrl&&await v(A==null?void 0:A.bootUrl),await V.setVendorData(A),A!=null&&A.icon&&await Rt(A==null?void 0:A.icon)}catch{h(x),d(!1),$=!0}$||(await V.setVendorUrl(e==null?void 0:e.vendorUrl),await y(),o())},I=async()=>{await y(),o()},O=async()=>{await V.setVendorData(i),i!=null&&i.icon&&await Rt(i==null?void 0:i.icon),await y(),o()},W=async()=>{i!=null&&i.agentUrl&&await j(i==null?void 0:i.agentUrl),await V.setVendorData(i),i!=null&&i.icon&&await Rt(i==null?void 0:i.icon),await y(),r()};return n.jsxs(T,{padding:3,position:"relative",children:[n.jsx(T,{marginBottom:2,children:n.jsx(k,{fontSize:1,fontWeight:"bold",$color:"",children:w({id:"permissions.label.permissionRequired"})})}),n.jsx(Qe,{children:l?n.jsxs(n.Fragment,{children:[n.jsx(T,{marginBottom:2,children:n.jsx(k,{fontWeight:"bold",fontSize:0,$color:"heading",children:w({id:"permissions.warning.containsAgentUrl"},{url:i==null?void 0:i.agentUrl})})}),n.jsxs(U,{flexDirection:"column",$flexGap:1,children:[n.jsx(G,{handleClick:W,children:n.jsx(k,{$color:"",children:w({id:"permissions.action.yesProceed"})})}),n.jsx(G,{handleClick:O,children:n.jsx(k,{$color:"",children:w({id:"permissions.action.noProceedWithoutAgent"})})}),n.jsx(G,{handleClick:I,children:n.jsx(k,{$color:"",children:w({id:"action.cancel"})})})]})]}):n.jsxs(n.Fragment,{children:[n.jsx(k,{fontWeight:"bold",fontSize:0,$breakWord:!0,$color:"heading",children:w({id:"permissions.desc.loadVendorUrl"},{origin:lo(e==null?void 0:e.origin),url:e==null?void 0:e.vendorUrl})}),f?n.jsx(k,{$color:"error",children:f}):null,n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",marginTop:2,children:[n.jsx(G,{handleClick:b,isLoading:a,children:n.jsx(k,{$color:"",children:w({id:"action.allow"})})}),n.jsx(G,{handleClick:I,children:n.jsx(k,{$color:"",children:w({id:"action.deny"})})})]})]})})]})}function yo({size:e,scale:t=4}){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:e*t,height:e*t,children:[n.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 0 1 1.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.559.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.894.149c-.424.07-.764.383-.929.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 0 1-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.398.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 0 1-.12-1.45l.527-.737c.25-.35.272-.806.108-1.204-.165-.397-.506-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.108-1.204l-.526-.738a1.125 1.125 0 0 1 .12-1.45l.773-.773a1.125 1.125 0 0 1 1.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894Z"}),n.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]})}const dn=Object.entries(Yn).map(e=>({label:e[1],value:e[0]}));function vo(e){const[t,o]=u.useState(""),[r,i]=u.useState(""),[s,l]=u.useState(""),[c,a]=u.useState(""),[d,f]=u.useState(""),[h,w]=u.useState(""),[m,x]=u.useState(),{formatMessage:g}=ne(),{changeLocale:y,currentLocale:v}=Gn(),j=g({id:"config.error.enterUrl"}),b=g({id:"config.error.invalidVendorUrl"}),I=async()=>{const _=await V.getAgentAndVendorInfo();o(_.vendorUrl),l(_.agentUrl),f(_.bootUrl),x(_.hasOnboarded)};u.useEffect(()=>{I()},[]);const O=()=>!t||!ke(t)?(i(j),!0):(i(""),!1),W=async _=>{if(!_||!ke(_)){a(j);return}await V.setAgentUrl(_),l(_),a(""),m||(await V.setHasOnboarded(!0),e.handleBack())},$=async _=>{if(_){if(!ke(_)){w(j);return}await V.setBootUrl(_),f(_),w("")}else await V.setBootUrl(""),f(""),w("");e.afterBootUrlUpdate()},A=async()=>{let _=O();try{const C=await(await fetch(t)).json();C!=null&&C.agentUrl&&await W(C==null?void 0:C.agentUrl),C!=null&&C.bootUrl&&await $(C==null?void 0:C.bootUrl),await V.setVendorData(C),C!=null&&C.icon&&await Rt(C==null?void 0:C.icon)}catch{i(b),_=!0}_||(await V.setVendorUrl(t),e.afterSetUrl())},B=async()=>{O()||await A()},D=async()=>{if(!s||!ke(s)){a(j);return}e.handleBack()};return n.jsxs(n.Fragment,{children:[n.jsxs(T,{paddingX:3,position:"relative",marginBottom:2,children:[n.jsx(Ge,{id:"vendor_url",label:g({id:"config.vendorUrl.label"}),error:r,placeholder:g({id:"config.vendorUrl.placeholder"}),value:t,onChange:_=>o(_.target.value),onBlur:O}),n.jsx(T,{position:"absolute",right:"16px",bottom:"-28px",children:n.jsx(G,{handleClick:B,children:n.jsx(k,{$color:"",children:g({id:"action.load"})})})})]}),n.jsx(T,{paddingX:3,children:n.jsx(Ge,{id:"agent_url",label:`${g({id:"config.agentUrl.label"})} *`,error:c,placeholder:g({id:"config.agentUrl.placeholder"}),value:s,onChange:_=>l(_.target.value),onBlur:()=>W(s)})}),n.jsx(T,{paddingX:3,children:n.jsx(Ge,{id:"boot_url",label:`${g({id:"config.bootUrl.label"})} *`,error:h,placeholder:g({id:"config.bootUrl.placeholder"}),value:d,onChange:_=>f(_.target.value),onBlur:()=>$(d)})}),n.jsx(T,{paddingX:3,children:n.jsx(Kn,{label:g({id:"config.language.label"}),selectedOption:dn.find(_=>_.value===v),options:dn,onSelect:_=>y(_.value)})}),m?n.jsx(U,{fontSize:0,flexDirection:"row",justifyContent:"center",paddingX:3,marginTop:3,children:n.jsx(G,{handleClick:D,children:n.jsx(k,{$color:"",children:g({id:"action.save"})})})}):n.jsx(n.Fragment,{})]})}const bo=ye.img`
  width: 128px;
  height: 128px;
`;function jo(e){const{formatMessage:t}=ne(),[o,r]=u.useState(""),[i,s]=u.useState(""),l=t({id:"account.enterPasscode"}),c=t({id:"action.connect"});u.useEffect(()=>{e.signinError&&s(e.signinError)},[e.signinError]);const a=()=>{s(o?"":l)},d=async()=>{let f=!1;o||(s(l),f=!0),f||await e.handleConnect(o)};return n.jsxs(n.Fragment,{children:[n.jsx(U,{flexDirection:"row",justifyContent:"center",children:n.jsx(bo,{src:e.logo,alt:"logo"})}),n.jsx(T,{paddingX:3,paddingY:2,children:n.jsx(Ge,{type:"password",id:"passcode",error:i,placeholder:l,value:o,onChange:f=>r(f.target.value),onBlur:a})}),n.jsx(U,{flexDirection:"row",justifyContent:"center",children:n.jsx(G,{handleClick:d,isLoading:e.isLoading,children:n.jsx(k,{$color:"",children:c})})})]})}function So(e){var s,l;const{formatMessage:t}=ne(),[o,r]=u.useState(!1),i=async()=>{const c=await V.getAgentAndVendorInfo();r(c.agentUrl&&c.bootUrl)};return u.useEffect(()=>{i()},[]),n.jsxs(Qn,{children:[n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",padding:2,children:[n.jsx(k,{fontWeight:"bold",fontSize:3,$capitalize:!0,$color:"bodyColor",children:e.showConfig?t({id:"account.settings"}):e.title}),n.jsx(Kt,{onClick:()=>e.setShowConfig(!0),children:n.jsx(yo,{size:6})})]}),e.showConfig?n.jsx(vo,{handleBack:()=>{e.setShowConfig(!1),i()},afterBootUrlUpdate:i,afterSetUrl:e==null?void 0:e.afterSetUrl}):n.jsx(jo,{signinError:e==null?void 0:e.signinError,isLoading:e==null?void 0:e.isLoading,handleConnect:e.handleConnect,logo:e.logo}),n.jsxs(T,{fontSize:0,padding:2,bottom:2,children:[o?n.jsx(T,{textAlign:"center",children:n.jsx(Ot,{onClick:e.handleSignup,$hoverUnderline:!0,children:t({id:"account.onboard.cta"})})}):null,n.jsxs(T,{textAlign:"center",children:[n.jsx(Ot,{as:"a",href:(s=e==null?void 0:e.vendorData)==null?void 0:s.docsUrl,target:"_blank",$hoverUnderline:!0,children:t({id:"account.docs"})}),n.jsx("strong",{children:" | "}),n.jsx(Ot,{as:"a",href:(l=e==null?void 0:e.vendorData)==null?void 0:l.supportUrl,$hoverUnderline:!0,target:"_blank",children:t({id:"account.support"})})]})]})]})}function Co({size:e,scale:t=4}){return n.jsxs("svg",{width:e*t,height:e*t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M15.0007 12C15.0007 13.6569 13.6576 15 12.0007 15C10.3439 15 9.00073 13.6569 9.00073 12C9.00073 10.3431 10.3439 9 12.0007 9C13.6576 9 15.0007 10.3431 15.0007 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),n.jsx("path",{d:"M12.0012 5C7.52354 5 3.73326 7.94288 2.45898 12C3.73324 16.0571 7.52354 19 12.0012 19C16.4788 19 20.2691 16.0571 21.5434 12C20.2691 7.94291 16.4788 5 12.0012 5Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})}function Eo({size:e,scale:t=4}){return n.jsxs("svg",{width:e*t,height:e*t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M4.4955 7.44088C3.54724 8.11787 2.77843 8.84176 2.1893 9.47978C0.857392 10.9222 0.857393 13.0778 2.1893 14.5202C3.9167 16.391 7.18879 19 12 19C13.2958 19 14.4799 18.8108 15.5523 18.4977L13.8895 16.8349C13.2936 16.9409 12.6638 17 12 17C7.9669 17 5.18832 14.82 3.65868 13.1634C3.03426 12.4872 3.03426 11.5128 3.65868 10.8366C4.23754 10.2097 4.99526 9.50784 5.93214 8.87753L4.4955 7.44088Z",fill:"currentColor"}),n.jsx("path",{d:"M8.53299 11.4784C8.50756 11.6486 8.49439 11.8227 8.49439 12C8.49439 13.933 10.0614 15.5 11.9944 15.5C12.1716 15.5 12.3458 15.4868 12.516 15.4614L8.53299 11.4784Z",fill:"currentColor"}),n.jsx("path",{d:"M15.4661 12.4471L11.5473 8.52829C11.6937 8.50962 11.8429 8.5 11.9944 8.5C13.9274 8.5 15.4944 10.067 15.4944 12C15.4944 12.1515 15.4848 12.3007 15.4661 12.4471Z",fill:"currentColor"}),n.jsx("path",{d:"M18.1118 15.0928C19.0284 14.4702 19.7715 13.7805 20.3413 13.1634C20.9657 12.4872 20.9657 11.5128 20.3413 10.8366C18.8117 9.18002 16.0331 7 12 7C11.3594 7 10.7505 7.05499 10.1732 7.15415L8.50483 5.48582C9.5621 5.1826 10.7272 5 12 5C16.8112 5 20.0833 7.60905 21.8107 9.47978C23.1426 10.9222 23.1426 13.0778 21.8107 14.5202C21.2305 15.1486 20.476 15.8603 19.5474 16.5284L18.1118 15.0928Z",fill:"currentColor"}),n.jsx("path",{d:"M2.00789 3.42207C1.61736 3.03155 1.61736 2.39838 2.00789 2.00786C2.39841 1.61733 3.03158 1.61733 3.4221 2.00786L22.0004 20.5862C22.391 20.9767 22.391 21.6099 22.0004 22.0004C21.6099 22.3909 20.9767 22.3909 20.5862 22.0004L2.00789 3.42207Z",fill:"currentColor"})]})}const _o=ye.p`
  margin: 0;
  ${({blur:e,theme:t})=>{var o;return e&&Jn`
      color: transparent;
      text-shadow: 0 0 8px ${(o=t==null?void 0:t.colors)==null?void 0:o.cardColor};
    `}}
`;function ko({handleBootAndConnect:e,isLoading:t,signupError:o}){const[r,i]=u.useState(""),[s,l]=u.useState(!1),[c,a]=u.useState(!1),{formatMessage:d}=ne(),[f,h]=u.useState(""),[w,m]=u.useState(""),x=d({id:"account.enterPasscode"}),g=d({id:"action.connect"});u.useEffect(()=>{o&&m(o)},[o]);const y=()=>{m(f?"":x)},v=async()=>{const{data:b}=await K({type:Q.authentication_generate_passcode});b!=null&&b.passcode&&i(b.passcode)},j=async()=>{let b=!1;f||(m(x),b=!0),b||await e(f)};return n.jsxs(T,{padding:3,position:"relative",children:[n.jsx(T,{marginBottom:2,children:n.jsx(k,{fontSize:1,$color:"",fontWeight:"bold",children:d(r?{id:"signup.title.saveYourPasscode"}:{id:"signup.title.generatePasscode"})})}),n.jsxs(T,{marginBottom:2,children:[n.jsx(k,{$color:"",fontSize:0,fontWeight:"bold",children:d({id:"signup.desc.safegaurd"})}),n.jsx(k,{$color:"",fontSize:0,fontWeight:"bold",children:d({id:"signup.desc.storeYourPasscode"})})]}),n.jsx(Qe,{children:n.jsxs(n.Fragment,{children:[n.jsx(T,{marginBottom:2,children:n.jsx(k,{fontSize:0,fontWeight:"bold",$breakWord:!0,$color:"heading",children:d({id:"signup.warning.cannotRetrieve"})})}),r?n.jsx(Qe,{children:n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",fontSize:0,$flexGap:1,children:[n.jsx(_o,{blur:!c,children:r}),n.jsx(Kt,{onClick:()=>{a(!c)},children:c?n.jsx(Co,{size:3}):n.jsx(Eo,{size:3})})]})}):n.jsx(n.Fragment,{}),n.jsx(T,{marginTop:2,children:r?s?n.jsxs("div",{children:[n.jsx(T,{marginBottom:1,children:n.jsx(Ge,{type:"password",id:"passcode",error:w,placeholder:x,value:f,onChange:b=>h(b.target.value),onBlur:y})}),n.jsx(G,{isLoading:t,handleClick:j,children:n.jsx(k,{fontWeight:"normal",$color:"",children:g})})]}):n.jsx(G,{handleClick:()=>{navigator.clipboard.writeText(r),l(!0)},children:n.jsx(k,{fontWeight:"normal",$color:"",children:d({id:"signup.action.copyToClipboard"})})}):n.jsx(G,{handleClick:v,children:n.jsx(k,{fontWeight:"normal",$color:"",children:d({id:"signup.title.generatePasscode"})})})})]})})]})}function kn({size:e,scale:t=4}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:e*t,height:e*t,children:n.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"})})}function An({size:e,scale:t=4}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:e*t,height:e*t,children:n.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"})})}function Ao({size:e,scale:t=4}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:e*t,height:e*t,children:n.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"})})}const Lo=ye.a`
  display: flex;
  align-items: center;
  column-gap: 8px;
  text-decoration-line: none;

  & > img {
    height: 32px;
  }

  & > span {
    align-self: center;
    font-size: 24px;
    line-height: 32px;
    font-weight: 600;
    white-space: nowrap;
  }
`;function To(e){return n.jsx(T,{children:n.jsxs(Lo,{target:"_blank",href:"https://github.com/WebOfTrust/signify-browser-extension",children:[n.jsx("img",{src:e==null?void 0:e.logo,alt:"logo"}),n.jsx(Je,{$color:"bodyColor",children:e==null?void 0:e.title})]})})}const $o=ye(U)`
  background-color: ${({$isActive:e,theme:t})=>{var o;return e?(o=t==null?void 0:t.colors)==null?void 0:o.secondary:""}};
  color: ${({$isActive:e,theme:t})=>{var o;return e?(o=t==null?void 0:t.colors)==null?void 0:o.subtext:""}};
  &:hover {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.secondary}};
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.subtext}};
  }
`,Oo=ye.aside`
  position: fixed;
  left: 0px;
  z-index: 40;
  width: 192px;
  height: 100%;
  transition-property: transform;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
  transform: translate(-100%, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1);
  @media (min-width: 640px) {
    transform: translate(0, 0) rotate(0) skewX(0) skewY(0) scaleX(1) scaleY(1);
  }
`,Ro=ye(U)`
  &:hover {
    background-color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.error}};
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.subtext}};
  }
`,Io=ye.ul`
  margin: 0;
`,Xt=ye.li`
  cursor: ${({disabled:e})=>e?"not-allowed":"pointer"};
`,wt={identifiers:"identifiers",credentials:"credentials",signin:"sign-ins"},pt=[{id:wt.identifiers,icon:n.jsx(kn,{size:6}),title:n.jsx(Ht,{id:"identifiers.title"})},{id:wt.credentials,icon:n.jsx(An,{size:6}),title:n.jsx(Ht,{id:"credentials.title"})},{id:wt.signin,icon:n.jsx(jn,{size:6}),title:n.jsx(Ht,{id:"signins.title"})}];function Uo(e){const{formatMessage:t}=ne();return n.jsxs(Oo,{id:"default-sidebar","aria-label":"Sidebar",children:[n.jsx(U,{paddingX:3,children:n.jsx(Io,{children:n.jsx(Xt,{children:n.jsx(To,{logo:e==null?void 0:e.logo,title:e==null?void 0:e.title})})})}),n.jsx(U,{flexDirection:"column",justifyContent:"space-between",paddingX:3,overflowY:"auto",children:n.jsx("ul",{children:pt.map((o,r)=>{var i;return n.jsx(Xt,{disabled:e.disabled,"aria-disabled":e.disabled,children:n.jsxs($o,{onClick:()=>!e.disabled&&e.onClickLink(o),alignItems:"center",padding:2,borderRadius:"8px",$isActive:o.id===((i=e.active)==null?void 0:i.id),$flexGap:3,children:[o.icon,n.jsx(Je,{fontSize:0,$color:"",children:o.title})]})},r)})})}),n.jsx(U,{flexDirection:"column",paddingX:3,children:n.jsx("ul",{children:n.jsx(Xt,{children:n.jsxs(Ro,{onClick:e.onSignout,alignItems:"center",padding:2,borderRadius:"8px",$flexGap:3,children:[n.jsx(Ao,{size:6}),n.jsx(Je,{fontSize:0,$color:"",children:t({id:"action.disconnect"})})]})})})})]})}const tt=Math.min,Be=Math.max,It=Math.round,Tt=Math.floor,Ae=e=>({x:e,y:e}),Mo={left:"right",right:"left",bottom:"top",top:"bottom"},Bo={start:"end",end:"start"};function Zt(e,t,o){return Be(e,tt(t,o))}function vt(e,t){return typeof e=="function"?e(t):e}function Ne(e){return e.split("-")[0]}function bt(e){return e.split("-")[1]}function Ln(e){return e==="x"?"y":"x"}function Qt(e){return e==="y"?"height":"width"}function Nt(e){return["top","bottom"].includes(Ne(e))?"y":"x"}function Jt(e){return Ln(Nt(e))}function No(e,t,o){o===void 0&&(o=!1);const r=bt(e),i=Jt(e),s=Qt(i);let l=i==="x"?r===(o?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=Ut(l)),[l,Ut(l)]}function zo(e){const t=Ut(e);return[Yt(e),t,Yt(t)]}function Yt(e){return e.replace(/start|end/g,t=>Bo[t])}function Po(e,t,o){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return o?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function Wo(e,t,o,r){const i=bt(e);let s=Po(Ne(e),o==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(Yt)))),s}function Ut(e){return e.replace(/left|right|bottom|top/g,t=>Mo[t])}function Fo(e){return{top:0,right:0,bottom:0,left:0,...e}}function Tn(e){return typeof e!="number"?Fo(e):{top:e,right:e,bottom:e,left:e}}function Mt(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function un(e,t,o){let{reference:r,floating:i}=e;const s=Nt(t),l=Jt(t),c=Qt(l),a=Ne(t),d=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,w=r[c]/2-i[c]/2;let m;switch(a){case"top":m={x:f,y:r.y-i.height};break;case"bottom":m={x:f,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-i.width,y:h};break;default:m={x:r.x,y:r.y}}switch(bt(t)){case"start":m[l]-=w*(o&&d?-1:1);break;case"end":m[l]+=w*(o&&d?-1:1);break}return m}const Do=async(e,t,o)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=o,c=s.filter(Boolean),a=await(l.isRTL==null?void 0:l.isRTL(t));let d=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:h}=un(d,r,a),w=r,m={},x=0;for(let g=0;g<c.length;g++){const{name:y,fn:v}=c[g],{x:j,y:b,data:I,reset:O}=await v({x:f,y:h,initialPlacement:r,placement:w,strategy:i,middlewareData:m,rects:d,platform:l,elements:{reference:e,floating:t}});f=j??f,h=b??h,m={...m,[y]:{...m[y],...I}},O&&x<=50&&(x++,typeof O=="object"&&(O.placement&&(w=O.placement),O.rects&&(d=O.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:f,y:h}=un(d,w,a)),g=-1)}return{x:f,y:h,placement:w,strategy:i,middlewareData:m}};async function $n(e,t){var o;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:c,strategy:a}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:w=!1,padding:m=0}=vt(t,e),x=Tn(m),y=c[w?h==="floating"?"reference":"floating":h],v=Mt(await s.getClippingRect({element:(o=await(s.isElement==null?void 0:s.isElement(y)))==null||o?y:y.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:d,rootBoundary:f,strategy:a})),j=h==="floating"?{...l.floating,x:r,y:i}:l.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),I=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},O=Mt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:b,strategy:a}):j);return{top:(v.top-O.top+x.top)/I.y,bottom:(O.bottom-v.bottom+x.bottom)/I.y,left:(v.left-O.left+x.left)/I.x,right:(O.right-v.right+x.right)/I.x}}const Vo=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:r,placement:i,rects:s,platform:l,elements:c,middlewareData:a}=t,{element:d,padding:f=0}=vt(e,t)||{};if(d==null)return{};const h=Tn(f),w={x:o,y:r},m=Jt(i),x=Qt(m),g=await l.getDimensions(d),y=m==="y",v=y?"top":"left",j=y?"bottom":"right",b=y?"clientHeight":"clientWidth",I=s.reference[x]+s.reference[m]-w[m]-s.floating[x],O=w[m]-s.reference[m],W=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d));let $=W?W[b]:0;(!$||!await(l.isElement==null?void 0:l.isElement(W)))&&($=c.floating[b]||s.floating[x]);const A=I/2-O/2,B=$/2-g[x]/2-1,D=tt(h[v],B),_=tt(h[j],B),C=D,fe=$-g[x]-_,M=$/2-g[x]/2+A,ee=Zt(C,M,fe),X=!a.arrow&&bt(i)!=null&&M!==ee&&s.reference[x]/2-(M<C?D:_)-g[x]/2<0,J=X?M<C?M-C:M-fe:0;return{[m]:w[m]+J,data:{[m]:ee,centerOffset:M-ee-J,...X&&{alignmentOffset:J}},reset:X}}}),Ho=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var o,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:c,platform:a,elements:d}=t,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:w,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:g=!0,...y}=vt(e,t);if((o=s.arrow)!=null&&o.alignmentOffset)return{};const v=Ne(i),j=Ne(c)===c,b=await(a.isRTL==null?void 0:a.isRTL(d.floating)),I=w||(j||!g?[Ut(c)]:zo(c));!w&&x!=="none"&&I.push(...Wo(c,g,x,b));const O=[c,...I],W=await $n(t,y),$=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&$.push(W[v]),h){const C=No(i,l,b);$.push(W[C[0]],W[C[1]])}if(A=[...A,{placement:i,overflows:$}],!$.every(C=>C<=0)){var B,D;const C=(((B=s.flip)==null?void 0:B.index)||0)+1,fe=O[C];if(fe)return{data:{index:C,overflows:A},reset:{placement:fe}};let M=(D=A.filter(ee=>ee.overflows[0]<=0).sort((ee,X)=>ee.overflows[1]-X.overflows[1])[0])==null?void 0:D.placement;if(!M)switch(m){case"bestFit":{var _;const ee=(_=A.map(X=>[X.placement,X.overflows.filter(J=>J>0).reduce((J,ve)=>J+ve,0)]).sort((X,J)=>X[1]-J[1])[0])==null?void 0:_[0];ee&&(M=ee);break}case"initialPlacement":M=c;break}if(i!==M)return{reset:{placement:M}}}return{}}}};async function Xo(e,t){const{placement:o,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ne(o),c=bt(o),a=Nt(o)==="y",d=["left","top"].includes(l)?-1:1,f=s&&a?-1:1,h=vt(t,e);let{mainAxis:w,crossAxis:m,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return c&&typeof x=="number"&&(m=c==="end"?x*-1:x),a?{x:m*f,y:w*d}:{x:w*d,y:m*f}}const qo=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var o,r;const{x:i,y:s,placement:l,middlewareData:c}=t,a=await Xo(t,e);return l===((o=c.offset)==null?void 0:o.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:l}}}}},Zo=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x:v,y:j}=y;return{x:v,y:j}}},...a}=vt(e,t),d={x:o,y:r},f=await $n(t,a),h=Nt(Ne(i)),w=Ln(h);let m=d[w],x=d[h];if(s){const y=w==="y"?"top":"left",v=w==="y"?"bottom":"right",j=m+f[y],b=m-f[v];m=Zt(j,m,b)}if(l){const y=h==="y"?"top":"left",v=h==="y"?"bottom":"right",j=x+f[y],b=x-f[v];x=Zt(j,x,b)}const g=c.fn({...t,[w]:m,[h]:x});return{...g,data:{x:g.x-o,y:g.y-r}}}}};function Le(e){return On(e)?(e.nodeName||"").toLowerCase():"#document"}function le(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Se(e){var t;return(t=(On(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function On(e){return e instanceof Node||e instanceof le(e).Node}function je(e){return e instanceof Element||e instanceof le(e).Element}function we(e){return e instanceof HTMLElement||e instanceof le(e).HTMLElement}function fn(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof le(e).ShadowRoot}function jt(e){const{overflow:t,overflowX:o,overflowY:r,display:i}=ue(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+o)&&!["inline","contents"].includes(i)}function Yo(e){return["table","td","th"].includes(Le(e))}function en(e){const t=tn(),o=ue(e);return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!t&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!t&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(o.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(o.contain||"").includes(r))}function Go(e){let t=nt(e);for(;we(t)&&!zt(t);){if(en(t))return t;t=nt(t)}return null}function tn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zt(e){return["html","body","#document"].includes(Le(e))}function ue(e){return le(e).getComputedStyle(e)}function Pt(e){return je(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function nt(e){if(Le(e)==="html")return e;const t=e.assignedSlot||e.parentNode||fn(e)&&e.host||Se(e);return fn(t)?t.host:t}function Rn(e){const t=nt(e);return zt(t)?e.ownerDocument?e.ownerDocument.body:e.body:we(t)&&jt(t)?t:Rn(t)}function yt(e,t,o){var r;t===void 0&&(t=[]),o===void 0&&(o=!0);const i=Rn(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=le(i);return s?t.concat(l,l.visualViewport||[],jt(i)?i:[],l.frameElement&&o?yt(l.frameElement):[]):t.concat(i,yt(i,[],o))}function In(e){const t=ue(e);let o=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=we(e),s=i?e.offsetWidth:o,l=i?e.offsetHeight:r,c=It(o)!==s||It(r)!==l;return c&&(o=s,r=l),{width:o,height:r,$:c}}function nn(e){return je(e)?e:e.contextElement}function Ke(e){const t=nn(e);if(!we(t))return Ae(1);const o=t.getBoundingClientRect(),{width:r,height:i,$:s}=In(t);let l=(s?It(o.width):o.width)/r,c=(s?It(o.height):o.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const Ko=Ae(0);function Un(e){const t=le(e);return!tn()||!t.visualViewport?Ko:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Qo(e,t,o){return t===void 0&&(t=!1),!o||t&&o!==le(e)?!1:t}function ze(e,t,o,r){t===void 0&&(t=!1),o===void 0&&(o=!1);const i=e.getBoundingClientRect(),s=nn(e);let l=Ae(1);t&&(r?je(r)&&(l=Ke(r)):l=Ke(e));const c=Qo(s,o,r)?Un(s):Ae(0);let a=(i.left+c.x)/l.x,d=(i.top+c.y)/l.y,f=i.width/l.x,h=i.height/l.y;if(s){const w=le(s),m=r&&je(r)?le(r):r;let x=w,g=x.frameElement;for(;g&&r&&m!==x;){const y=Ke(g),v=g.getBoundingClientRect(),j=ue(g),b=v.left+(g.clientLeft+parseFloat(j.paddingLeft))*y.x,I=v.top+(g.clientTop+parseFloat(j.paddingTop))*y.y;a*=y.x,d*=y.y,f*=y.x,h*=y.y,a+=b,d+=I,x=le(g),g=x.frameElement}}return Mt({width:f,height:h,x:a,y:d})}const Jo=[":popover-open",":modal"];function Mn(e){return Jo.some(t=>{try{return e.matches(t)}catch{return!1}})}function er(e){let{elements:t,rect:o,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Se(r),c=t?Mn(t.floating):!1;if(r===l||c&&s)return o;let a={scrollLeft:0,scrollTop:0},d=Ae(1);const f=Ae(0),h=we(r);if((h||!h&&!s)&&((Le(r)!=="body"||jt(l))&&(a=Pt(r)),we(r))){const w=ze(r);d=Ke(r),f.x=w.x+r.clientLeft,f.y=w.y+r.clientTop}return{width:o.width*d.x,height:o.height*d.y,x:o.x*d.x-a.scrollLeft*d.x+f.x,y:o.y*d.y-a.scrollTop*d.y+f.y}}function tr(e){return Array.from(e.getClientRects())}function Bn(e){return ze(Se(e)).left+Pt(e).scrollLeft}function nr(e){const t=Se(e),o=Pt(e),r=e.ownerDocument.body,i=Be(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Be(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-o.scrollLeft+Bn(e);const c=-o.scrollTop;return ue(r).direction==="rtl"&&(l+=Be(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:c}}function or(e,t){const o=le(e),r=Se(e),i=o.visualViewport;let s=r.clientWidth,l=r.clientHeight,c=0,a=0;if(i){s=i.width,l=i.height;const d=tn();(!d||d&&t==="fixed")&&(c=i.offsetLeft,a=i.offsetTop)}return{width:s,height:l,x:c,y:a}}function rr(e,t){const o=ze(e,!0,t==="fixed"),r=o.top+e.clientTop,i=o.left+e.clientLeft,s=we(e)?Ke(e):Ae(1),l=e.clientWidth*s.x,c=e.clientHeight*s.y,a=i*s.x,d=r*s.y;return{width:l,height:c,x:a,y:d}}function hn(e,t,o){let r;if(t==="viewport")r=or(e,o);else if(t==="document")r=nr(Se(e));else if(je(t))r=rr(t,o);else{const i=Un(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Mt(r)}function Nn(e,t){const o=nt(e);return o===t||!je(o)||zt(o)?!1:ue(o).position==="fixed"||Nn(o,t)}function ir(e,t){const o=t.get(e);if(o)return o;let r=yt(e,[],!1).filter(c=>je(c)&&Le(c)!=="body"),i=null;const s=ue(e).position==="fixed";let l=s?nt(e):e;for(;je(l)&&!zt(l);){const c=ue(l),a=en(l);!a&&c.position==="fixed"&&(i=null),(s?!a&&!i:!a&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||jt(l)&&!a&&Nn(e,l))?r=r.filter(f=>f!==l):i=c,l=nt(l)}return t.set(e,r),r}function sr(e){let{element:t,boundary:o,rootBoundary:r,strategy:i}=e;const l=[...o==="clippingAncestors"?ir(t,this._c):[].concat(o),r],c=l[0],a=l.reduce((d,f)=>{const h=hn(t,f,i);return d.top=Be(h.top,d.top),d.right=tt(h.right,d.right),d.bottom=tt(h.bottom,d.bottom),d.left=Be(h.left,d.left),d},hn(t,c,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function lr(e){const{width:t,height:o}=In(e);return{width:t,height:o}}function cr(e,t,o){const r=we(t),i=Se(t),s=o==="fixed",l=ze(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const a=Ae(0);if(r||!r&&!s)if((Le(t)!=="body"||jt(i))&&(c=Pt(t)),r){const h=ze(t,!0,s,t);a.x=h.x+t.clientLeft,a.y=h.y+t.clientTop}else i&&(a.x=Bn(i));const d=l.left+c.scrollLeft-a.x,f=l.top+c.scrollTop-a.y;return{x:d,y:f,width:l.width,height:l.height}}function gn(e,t){return!we(e)||ue(e).position==="fixed"?null:t?t(e):e.offsetParent}function zn(e,t){const o=le(e);if(!we(e)||Mn(e))return o;let r=gn(e,t);for(;r&&Yo(r)&&ue(r).position==="static";)r=gn(r,t);return r&&(Le(r)==="html"||Le(r)==="body"&&ue(r).position==="static"&&!en(r))?o:r||Go(e)||o}const ar=async function(e){const t=this.getOffsetParent||zn,o=this.getDimensions;return{reference:cr(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await o(e.floating)}}};function dr(e){return ue(e).direction==="rtl"}const ur={convertOffsetParentRelativeRectToViewportRelativeRect:er,getDocumentElement:Se,getClippingRect:sr,getOffsetParent:zn,getElementRects:ar,getClientRects:tr,getDimensions:lr,getScale:Ke,isElement:je,isRTL:dr};function fr(e,t){let o=null,r;const i=Se(e);function s(){var c;clearTimeout(r),(c=o)==null||c.disconnect(),o=null}function l(c,a){c===void 0&&(c=!1),a===void 0&&(a=1),s();const{left:d,top:f,width:h,height:w}=e.getBoundingClientRect();if(c||t(),!h||!w)return;const m=Tt(f),x=Tt(i.clientWidth-(d+h)),g=Tt(i.clientHeight-(f+w)),y=Tt(d),j={rootMargin:-m+"px "+-x+"px "+-g+"px "+-y+"px",threshold:Be(0,tt(1,a))||1};let b=!0;function I(O){const W=O[0].intersectionRatio;if(W!==a){if(!b)return l();W?l(!1,W):r=setTimeout(()=>{l(!1,1e-7)},100)}b=!1}try{o=new IntersectionObserver(I,{...j,root:i.ownerDocument})}catch{o=new IntersectionObserver(I,j)}o.observe(e)}return l(!0),s}function hr(e,t,o,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,d=nn(e),f=i||s?[...d?yt(d):[],...yt(t)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",o,{passive:!0}),s&&v.addEventListener("resize",o)});const h=d&&c?fr(d,o):null;let w=-1,m=null;l&&(m=new ResizeObserver(v=>{let[j]=v;j&&j.target===d&&m&&(m.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(t)})),o()}),d&&!a&&m.observe(d),m.observe(t));let x,g=a?ze(e):null;a&&y();function y(){const v=ze(e);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&o(),g=v,x=requestAnimationFrame(y)}return o(),()=>{var v;f.forEach(j=>{i&&j.removeEventListener("scroll",o),s&&j.removeEventListener("resize",o)}),h==null||h(),(v=m)==null||v.disconnect(),m=null,a&&cancelAnimationFrame(x)}}const gr=Zo,mr=Ho,xr=Vo,mn=(e,t,o)=>{const r=new Map,i={platform:ur,...o},s={...i.platform,_c:r};return Do(e,t,{...i,platform:s})};var Pn={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function o(){for(var s="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(s=i(s,r(c)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return o.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var l="";for(var c in s)t.call(s,c)&&s[c]&&(l=i(l,c));return l}function i(s,l){return l?s?s+" "+l:s+l:s}e.exports?(o.default=o,e.exports=o):window.classNames=o})()})(Pn);var pr=Pn.exports;const Gt=co(pr),wr="react-tooltip-core-styles",yr="react-tooltip-base-styles",xn={core:!1,base:!1};function pn({css:e,id:t=yr,type:o="base",ref:r}){var i,s;if(!e||typeof document>"u"||xn[o]||o==="core"&&typeof _e.process<"u"&&(!((i=_e.process===null||_e.process===void 0?void 0:_e.process.env)===null||i===void 0)&&i.REACT_TOOLTIP_DISABLE_CORE_STYLES)||o!=="base"&&typeof _e.process<"u"&&(!((s=_e.process===null||_e.process===void 0?void 0:_e.process.env)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;o==="core"&&(t=wr),r||(r={});const{insertAt:l}=r;if(document.getElementById(t))return void console.warn(`[react-tooltip] Element with id '${t}' already exists. Call \`removeStyle()\` first`);const c=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.id=t,a.type="text/css",l==="top"&&c.firstChild?c.insertBefore(a,c.firstChild):c.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e)),xn[o]=!0}const wn=(e,t,o)=>{let r=null;const i=function(...s){const l=()=>{r=null,o||e.apply(this,s)};o&&!r&&(e.apply(this,s),r=setTimeout(l,t)),o||(r&&clearTimeout(r),r=setTimeout(l,t))};return i.cancel=()=>{r&&(clearTimeout(r),r=null)},i},vr="DEFAULT_TOOLTIP_ID",br={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},jr=u.createContext({getTooltipData:()=>br});function Wn(e=vr){return u.useContext(jr).getTooltipData(e)}const Sr=typeof window<"u"?u.useLayoutEffect:u.useEffect,Cr=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some(o=>{const r=t.getPropertyValue(o);return r==="auto"||r==="scroll"})},yn=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Cr(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},vn=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:o=null,place:r="top",offset:i=10,strategy:s="absolute",middlewares:l=[qo(Number(i)),mr({fallbackAxisSideDirection:"start"}),gr({padding:5})],border:c})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(t===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const a=l;return o?(a.push(xr({element:o,padding:5})),mn(e,t,{placement:r,strategy:s,middleware:a}).then(({x:d,y:f,placement:h,middlewareData:w})=>{var m,x;const g={left:`${d}px`,top:`${f}px`,border:c},{x:y,y:v}=(m=w.arrow)!==null&&m!==void 0?m:{x:0,y:0},j=(x={top:"bottom",right:"left",bottom:"top",left:"right"}[h.split("-")[0]])!==null&&x!==void 0?x:"bottom",b=c&&{borderBottom:c,borderRight:c};let I=0;if(c){const O=`${c}`.match(/(\d+)px/);I=O!=null&&O[1]?Number(O[1]):1}return{tooltipStyles:g,tooltipArrowStyles:{left:y!=null?`${y}px`:"",top:v!=null?`${v}px`:"",right:"",bottom:"",...b,[j]:`-${4+I}px`},place:h}})):mn(e,t,{placement:"bottom",strategy:s,middleware:a}).then(({x:d,y:f,placement:h})=>({tooltipStyles:{left:`${d}px`,top:`${f}px`},tooltipArrowStyles:{},place:h}))},$t=e=>e!==null&&typeof e=="object",Fn=(e,t)=>{if(!$t(e)||!$t(t))return e===t;const o=Object.keys(e),r=Object.keys(t);return o.length===r.length&&o.every(i=>{const s=e[i],l=t[i];return $t(s)&&$t(l)?Fn(s,l):s===l})};var Ye={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},qt={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Er=({forwardRef:e,id:t,className:o,classNameArrow:r,variant:i="dark",anchorId:s,anchorSelect:l,place:c="top",offset:a=10,events:d=["hover"],openOnClick:f=!1,positionStrategy:h="absolute",middlewares:w,wrapper:m,delayShow:x=0,delayHide:g=0,float:y=!1,hidden:v=!1,noArrow:j=!1,clickable:b=!1,closeOnEsc:I=!1,closeOnScroll:O=!1,closeOnResize:W=!1,openEvents:$,closeEvents:A,globalCloseEvents:B,imperativeModeOnly:D,style:_,position:C,afterShow:fe,afterHide:M,content:ee,contentWrapperRef:X,isOpen:J,defaultIsOpen:ve=!1,setIsOpen:Te,activeAnchor:F,setActiveAnchor:Pe,border:St,opacity:Ct,arrowColor:Et,role:Wt="tooltip"})=>{var rt;const oe=u.useRef(null),We=u.useRef(null),te=u.useRef(null),ce=u.useRef(null),$e=u.useRef(null),[Ce,Ft]=u.useState({tooltipStyles:{},tooltipArrowStyles:{},place:c}),[ie,_t]=u.useState(!1),[Oe,Re]=u.useState(!1),[P,it]=u.useState(null),st=u.useRef(!1),lt=u.useRef(null),{anchorRefs:ct,setActiveAnchor:kt}=Wn(t),Fe=u.useRef(!1),[Ee,at]=u.useState([]),Ie=u.useRef(!1),De=f||d.includes("click"),dt=De||($==null?void 0:$.click)||($==null?void 0:$.dblclick)||($==null?void 0:$.mousedown),Ve=$?{...$}:{mouseenter:!0,focus:!0,click:!1,dblclick:!1,mousedown:!1};!$&&De&&Object.assign(Ve,{mouseenter:!1,focus:!1,click:!0});const ut=A?{...A}:{mouseleave:!0,blur:!0,click:!1,dblclick:!1,mouseup:!1};!A&&De&&Object.assign(ut,{mouseleave:!1,blur:!1});const he=B?{...B}:{escape:I||!1,scroll:O||!1,resize:W||!1,clickOutsideAnchor:dt||!1};D&&(Object.assign(Ve,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ut,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(he,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Sr(()=>(Ie.current=!0,()=>{Ie.current=!1}),[]);const H=p=>{Ie.current&&(p&&Re(!0),setTimeout(()=>{Ie.current&&(Te==null||Te(p),J===void 0&&_t(p))},10))};u.useEffect(()=>{if(J===void 0)return()=>null;J&&Re(!0);const p=setTimeout(()=>{_t(J)},10);return()=>{clearTimeout(p)}},[J]),u.useEffect(()=>{if(ie!==st.current)if($e.current&&clearTimeout($e.current),st.current=ie,ie)fe==null||fe();else{const p=(E=>{const L=E.match(/^([\d.]+)(m?s?)$/);if(!L)return 0;const[,Z,Y]=L;return Y!=="s"&&Y!=="ms"?0:Number(Z)*(Y==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));$e.current=setTimeout(()=>{Re(!1),it(null),M==null||M()},p+25)}},[ie]);const At=p=>{Ft(E=>Fn(E,p)?E:p)},ft=(p=x)=>{te.current&&clearTimeout(te.current),Oe?H(!0):te.current=setTimeout(()=>{H(!0)},p)},He=(p=g)=>{ce.current&&clearTimeout(ce.current),ce.current=setTimeout(()=>{Fe.current||H(!1)},p)},ht=p=>{var E;if(!p)return;const L=(E=p.currentTarget)!==null&&E!==void 0?E:p.target;if(!(L!=null&&L.isConnected))return Pe(null),void kt({current:null});x?ft():H(!0),Pe(L),kt({current:L}),ce.current&&clearTimeout(ce.current)},Xe=()=>{b?He(g||100):g?He():H(!1),te.current&&clearTimeout(te.current)},qe=({x:p,y:E})=>{var L;const Z={getBoundingClientRect:()=>({x:p,y:E,width:0,height:0,top:E,left:p,right:p,bottom:E})};vn({place:(L=P==null?void 0:P.place)!==null&&L!==void 0?L:c,offset:a,elementReference:Z,tooltipReference:oe.current,tooltipArrowReference:We.current,strategy:h,middlewares:w,border:St}).then(Y=>{At(Y)})},Ze=p=>{if(!p)return;const E=p,L={x:E.clientX,y:E.clientY};qe(L),lt.current=L},gt=p=>{var E;if(!ie)return;const L=p.target;L.isConnected&&(!((E=oe.current)===null||E===void 0)&&E.contains(L)||[document.querySelector(`[id='${s}']`),...Ee].some(Z=>Z==null?void 0:Z.contains(L))||(H(!1),te.current&&clearTimeout(te.current)))},Lt=wn(ht,50,!0),q=wn(Xe,50,!0),ae=p=>{q.cancel(),Lt(p)},S=()=>{Lt.cancel(),q()},R=u.useCallback(()=>{var p,E;const L=(p=P==null?void 0:P.position)!==null&&p!==void 0?p:C;L?qe(L):y?lt.current&&qe(lt.current):F!=null&&F.isConnected&&vn({place:(E=P==null?void 0:P.place)!==null&&E!==void 0?E:c,offset:a,elementReference:F,tooltipReference:oe.current,tooltipArrowReference:We.current,strategy:h,middlewares:w,border:St}).then(Z=>{Ie.current&&At(Z)})},[ie,F,ee,_,c,P==null?void 0:P.place,a,h,C,P==null?void 0:P.position,y]);u.useEffect(()=>{var p,E;const L=new Set(ct);Ee.forEach(N=>{L.add({current:N})});const Z=document.querySelector(`[id='${s}']`);Z&&L.add({current:Z});const Y=()=>{H(!1)},xe=yn(F),pe=yn(oe.current);he.scroll&&(window.addEventListener("scroll",Y),xe==null||xe.addEventListener("scroll",Y),pe==null||pe.addEventListener("scroll",Y));let re=null;he.resize?window.addEventListener("resize",Y):F&&oe.current&&(re=hr(F,oe.current,R,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const de=N=>{N.key==="Escape"&&H(!1)};he.escape&&window.addEventListener("keydown",de),he.clickOutsideAnchor&&window.addEventListener("click",gt);const z=[],mt=N=>{ie&&(N==null?void 0:N.target)===F||ht(N)},qn=N=>{ie&&(N==null?void 0:N.target)===F&&Xe()},on=["mouseenter","mouseleave","focus","blur"],rn=["click","dblclick","mousedown","mouseup"];Object.entries(Ve).forEach(([N,be])=>{be&&(on.includes(N)?z.push({event:N,listener:ae}):rn.includes(N)&&z.push({event:N,listener:mt}))}),Object.entries(ut).forEach(([N,be])=>{be&&(on.includes(N)?z.push({event:N,listener:S}):rn.includes(N)&&z.push({event:N,listener:qn}))}),y&&z.push({event:"pointermove",listener:Ze});const sn=()=>{Fe.current=!0},ln=()=>{Fe.current=!1,Xe()};return b&&!dt&&((p=oe.current)===null||p===void 0||p.addEventListener("mouseenter",sn),(E=oe.current)===null||E===void 0||E.addEventListener("mouseleave",ln)),z.forEach(({event:N,listener:be})=>{L.forEach(Dt=>{var xt;(xt=Dt.current)===null||xt===void 0||xt.addEventListener(N,be)})}),()=>{var N,be;he.scroll&&(window.removeEventListener("scroll",Y),xe==null||xe.removeEventListener("scroll",Y),pe==null||pe.removeEventListener("scroll",Y)),he.resize?window.removeEventListener("resize",Y):re==null||re(),he.clickOutsideAnchor&&window.removeEventListener("click",gt),he.escape&&window.removeEventListener("keydown",de),b&&!dt&&((N=oe.current)===null||N===void 0||N.removeEventListener("mouseenter",sn),(be=oe.current)===null||be===void 0||be.removeEventListener("mouseleave",ln)),z.forEach(({event:Dt,listener:xt})=>{L.forEach(Zn=>{var Vt;(Vt=Zn.current)===null||Vt===void 0||Vt.removeEventListener(Dt,xt)})})}},[F,R,Oe,ct,Ee,$,A,B,De,x,g]),u.useEffect(()=>{var p,E;let L=(E=(p=P==null?void 0:P.anchorSelect)!==null&&p!==void 0?p:l)!==null&&E!==void 0?E:"";!L&&t&&(L=`[data-tooltip-id='${t}']`);const Z=new MutationObserver(Y=>{const xe=[],pe=[];Y.forEach(re=>{if(re.type==="attributes"&&re.attributeName==="data-tooltip-id"&&(re.target.getAttribute("data-tooltip-id")===t?xe.push(re.target):re.oldValue===t&&pe.push(re.target)),re.type==="childList"){if(F){const de=[...re.removedNodes].filter(z=>z.nodeType===1);if(L)try{pe.push(...de.filter(z=>z.matches(L))),pe.push(...de.flatMap(z=>[...z.querySelectorAll(L)]))}catch{}de.some(z=>{var mt;return!!(!((mt=z==null?void 0:z.contains)===null||mt===void 0)&&mt.call(z,F))&&(Re(!1),H(!1),Pe(null),te.current&&clearTimeout(te.current),ce.current&&clearTimeout(ce.current),!0)})}if(L)try{const de=[...re.addedNodes].filter(z=>z.nodeType===1);xe.push(...de.filter(z=>z.matches(L))),xe.push(...de.flatMap(z=>[...z.querySelectorAll(L)]))}catch{}}}),(xe.length||pe.length)&&at(re=>[...re.filter(de=>!pe.includes(de)),...xe])});return Z.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{Z.disconnect()}},[t,l,P==null?void 0:P.anchorSelect,F]),u.useEffect(()=>{R()},[R]),u.useEffect(()=>{if(!(X!=null&&X.current))return()=>null;const p=new ResizeObserver(()=>{setTimeout(()=>R())});return p.observe(X.current),()=>{p.disconnect()}},[ee,X==null?void 0:X.current]),u.useEffect(()=>{var p;const E=document.querySelector(`[id='${s}']`),L=[...Ee,E];F&&L.includes(F)||Pe((p=Ee[0])!==null&&p!==void 0?p:E)},[s,Ee,F]),u.useEffect(()=>(ve&&H(!0),()=>{te.current&&clearTimeout(te.current),ce.current&&clearTimeout(ce.current)}),[]),u.useEffect(()=>{var p;let E=(p=P==null?void 0:P.anchorSelect)!==null&&p!==void 0?p:l;if(!E&&t&&(E=`[data-tooltip-id='${t}']`),E)try{const L=Array.from(document.querySelectorAll(E));at(L)}catch{at([])}},[t,l,P==null?void 0:P.anchorSelect]),u.useEffect(()=>{te.current&&(clearTimeout(te.current),ft(x))},[x]);const se=(rt=P==null?void 0:P.content)!==null&&rt!==void 0?rt:ee,Ue=ie&&Object.keys(Ce.tooltipStyles).length>0;return u.useImperativeHandle(e,()=>({open:p=>{if(p!=null&&p.anchorSelect)try{document.querySelector(p.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${p.anchorSelect}" is not a valid CSS selector`)}it(p??null),p!=null&&p.delay?ft(p.delay):H(!0)},close:p=>{p!=null&&p.delay?He(p.delay):H(!1)},activeAnchor:F,place:Ce.place,isOpen:!!(Oe&&!v&&se&&Ue)})),Oe&&!v&&se?Me.createElement(m,{id:t,role:Wt,className:Gt("react-tooltip",Ye.tooltip,qt.tooltip,qt[i],o,`react-tooltip__place-${Ce.place}`,Ye[Ue?"show":"closing"],Ue?"react-tooltip__show":"react-tooltip__closing",h==="fixed"&&Ye.fixed,b&&Ye.clickable),onTransitionEnd:p=>{$e.current&&clearTimeout($e.current),ie||p.propertyName!=="opacity"||(Re(!1),it(null),M==null||M())},style:{..._,...Ce.tooltipStyles,opacity:Ct!==void 0&&Ue?Ct:void 0},ref:oe},se,Me.createElement(m,{className:Gt("react-tooltip-arrow",Ye.arrow,qt.arrow,r,j&&Ye.noArrow),style:{...Ce.tooltipArrowStyles,background:Et?`linear-gradient(to right bottom, transparent 50%, ${Et} 50%)`:void 0},ref:We})):null},_r=({content:e})=>Me.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),bn=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),Dn=Me.forwardRef(({id:e,anchorId:t,anchorSelect:o,content:r,html:i,render:s,className:l,classNameArrow:c,variant:a="dark",place:d="top",offset:f=10,wrapper:h="div",children:w=null,events:m=["hover"],openOnClick:x=!1,positionStrategy:g="absolute",middlewares:y,delayShow:v=0,delayHide:j=0,float:b=!1,hidden:I=!1,noArrow:O=!1,clickable:W=!1,closeOnEsc:$=!1,closeOnScroll:A=!1,closeOnResize:B=!1,openEvents:D,closeEvents:_,globalCloseEvents:C,imperativeModeOnly:fe=!1,style:M,position:ee,isOpen:X,defaultIsOpen:J=!1,disableStyleInjection:ve=!1,border:Te,opacity:F,arrowColor:Pe,setIsOpen:St,afterShow:Ct,afterHide:Et,role:Wt="tooltip"},rt)=>{const[oe,We]=u.useState(r),[te,ce]=u.useState(i),[$e,Ce]=u.useState(d),[Ft,ie]=u.useState(a),[_t,Oe]=u.useState(f),[Re,P]=u.useState(v),[it,st]=u.useState(j),[lt,ct]=u.useState(b),[kt,Fe]=u.useState(I),[Ee,at]=u.useState(h),[Ie,De]=u.useState(m),[dt,Ve]=u.useState(g),[ut,he]=u.useState(null),[H,At]=u.useState(null),ft=u.useRef(ve),{anchorRefs:He,activeAnchor:ht}=Wn(e),Xe=q=>q==null?void 0:q.getAttributeNames().reduce((ae,S)=>{var R;return S.startsWith("data-tooltip-")&&(ae[S.replace(/^data-tooltip-/,"")]=(R=q==null?void 0:q.getAttribute(S))!==null&&R!==void 0?R:null),ae},{}),qe=q=>{const ae={place:S=>{var R;Ce((R=S)!==null&&R!==void 0?R:d)},content:S=>{We(S??r)},html:S=>{ce(S??i)},variant:S=>{var R;ie((R=S)!==null&&R!==void 0?R:a)},offset:S=>{Oe(S===null?f:Number(S))},wrapper:S=>{var R;at((R=S)!==null&&R!==void 0?R:h)},events:S=>{const R=S==null?void 0:S.split(" ");De(R??m)},"position-strategy":S=>{var R;Ve((R=S)!==null&&R!==void 0?R:g)},"delay-show":S=>{P(S===null?v:Number(S))},"delay-hide":S=>{st(S===null?j:Number(S))},float:S=>{ct(S===null?b:S==="true")},hidden:S=>{Fe(S===null?I:S==="true")},"class-name":S=>{he(S)}};Object.values(ae).forEach(S=>S(null)),Object.entries(q).forEach(([S,R])=>{var se;(se=ae[S])===null||se===void 0||se.call(ae,R)})};u.useEffect(()=>{We(r)},[r]),u.useEffect(()=>{ce(i)},[i]),u.useEffect(()=>{Ce(d)},[d]),u.useEffect(()=>{ie(a)},[a]),u.useEffect(()=>{Oe(f)},[f]),u.useEffect(()=>{P(v)},[v]),u.useEffect(()=>{st(j)},[j]),u.useEffect(()=>{ct(b)},[b]),u.useEffect(()=>{Fe(I)},[I]),u.useEffect(()=>{Ve(g)},[g]),u.useEffect(()=>{ft.current!==ve&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[ve]),u.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:ve==="core",disableBase:ve}}))},[]),u.useEffect(()=>{var q;const ae=new Set(He);let S=o;if(!S&&e&&(S=`[data-tooltip-id='${e}']`),S)try{document.querySelectorAll(S).forEach(E=>{ae.add({current:E})})}catch{console.warn(`[react-tooltip] "${S}" is not a valid CSS selector`)}const R=document.querySelector(`[id='${t}']`);if(R&&ae.add({current:R}),!ae.size)return()=>null;const se=(q=H??R)!==null&&q!==void 0?q:ht.current,Ue=new MutationObserver(E=>{E.forEach(L=>{var Z;if(!se||L.type!=="attributes"||!(!((Z=L.attributeName)===null||Z===void 0)&&Z.startsWith("data-tooltip-")))return;const Y=Xe(se);qe(Y)})}),p={attributes:!0,childList:!1,subtree:!1};if(se){const E=Xe(se);qe(E),Ue.observe(se,p)}return()=>{Ue.disconnect()}},[He,ht,H,t,o]),u.useEffect(()=>{M!=null&&M.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),Te&&!bn("border",`${Te}`)&&console.warn(`[react-tooltip] "${Te}" is not a valid \`border\`.`),M!=null&&M.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),F&&!bn("opacity",`${F}`)&&console.warn(`[react-tooltip] "${F}" is not a valid \`opacity\`.`)},[]);let Ze=w;const gt=u.useRef(null);if(s){const q=s({content:(H==null?void 0:H.getAttribute("data-tooltip-content"))||oe||null,activeAnchor:H});Ze=q?Me.createElement("div",{ref:gt,className:"react-tooltip-content-wrapper"},q):null}else oe&&(Ze=oe);te&&(Ze=Me.createElement(_r,{content:te}));const Lt={forwardRef:rt,id:e,anchorId:t,anchorSelect:o,className:Gt(l,ut),classNameArrow:c,content:Ze,contentWrapperRef:gt,place:$e,variant:Ft,offset:_t,wrapper:Ee,events:Ie,openOnClick:x,positionStrategy:dt,middlewares:y,delayShow:Re,delayHide:it,float:lt,hidden:kt,noArrow:O,clickable:W,closeOnEsc:$,closeOnScroll:A,closeOnResize:B,openEvents:D,closeEvents:_,globalCloseEvents:C,imperativeModeOnly:fe,style:M,position:ee,isOpen:X,defaultIsOpen:J,border:Te,opacity:F,arrowColor:Pe,setIsOpen:St,afterShow:Ct,afterHide:Et,activeAnchor:H,setActiveAnchor:q=>At(q),role:Wt};return Me.createElement(Er,{...Lt})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",e=>{e.detail.disableCore||pn({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||pn({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});function kr({size:e,scale:t=4}){return n.jsx("svg",{width:e*t,height:e*t,viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",fill:"none",children:n.jsx("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4 2a2 2 0 00-2 2v9a2 2 0 002 2h2v2a2 2 0 002 2h9a2 2 0 002-2V8a2 2 0 00-2-2h-2V4a2 2 0 00-2-2H4zm9 4V4H4v9h2V8a2 2 0 012-2h5zM8 8h9v9H8V8z"})})}function Vn({aid:e}){const{formatMessage:t}=ne();return n.jsx(Qe,{children:n.jsxs(n.Fragment,{children:[n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",fontSize:0,children:[n.jsx("div",{children:n.jsxs(k,{fontWeight:"bold",$color:"heading",children:[t({id:"identifier.alias.label"})," ",n.jsx(Je,{fontWeight:"normal",$color:"text",children:e.name})]})}),n.jsx(kn,{size:6})]}),n.jsx("div",{children:n.jsxs(k,{fontWeight:"bold",fontSize:0,$color:"heading",children:[t({id:"identifier.aid.label"})," ",n.jsx("span",{"data-tooltip-id":e.prefix,children:n.jsx(Je,{fontWeight:"normal",maxWidth:"200px",$breakWord:!0,$cursorPointer:!0,$color:"text",children:ao(e.prefix)})})]})}),n.jsx(Dn,{id:e.prefix,clickable:!0,delayShow:500,children:n.jsxs(U,{flexDirection:"row",fontSize:0,$flexGap:1,children:[n.jsx(k,{$color:"",children:e.prefix}),n.jsx(Kt,{onClick:()=>{navigator.clipboard.writeText(e.prefix)},children:n.jsx(kr,{size:3})})]})})]})})}function Hn(e){const[t,o]=u.useState(""),[r,i]=u.useState(""),{formatMessage:s}=ne(),l=s({id:"identifier.error.emptyName"});u.useEffect(()=>{i(e.error)},[e.error]);const c=()=>{o(fo(t)),i("")},a=async d=>{d==null||d.preventDefault();let f=!1;t?uo(t)&&(i(n.jsxs(T,{fontSize:0,marginTop:1,color:"red",children:[s({id:"identifier.error.noWhiteSpace"})," ",n.jsx(Ot,{$cursorPointer:!0,$underline:!0,type:"button",onClick:c,children:s({id:"action.clickToRemove"})})]})),f=!0):(i(l),f=!0),f||(i(""),e.handleCreateIdentifier(t))};return n.jsx(n.Fragment,{children:n.jsx("form",{onSubmit:a,children:n.jsxs(U,{maxWidth:"320px",$flexGap:4,flexDirection:"column",margin:3,children:[n.jsx("div",{children:n.jsx(Ge,{type:"text",id:"vendor_url",error:r,placeholder:s({id:"identifier.uniqueName"}),value:t,onChange:d=>o(d.target.value)})}),n.jsx(U,{flexDirection:"row",justifyContent:"center",marginTop:2,children:n.jsx(G,{type:"submit",handleClick:a,isLoading:e.isLoading,children:n.jsx(k,{$color:"",children:s({id:"action.create"})})})})]})})})}function Ar(){const[e,t]=u.useState([]),[o,r]=u.useState(!1),[i,s]=u.useState(!1),[l,c]=u.useState(!1),[a,d]=u.useState(""),{formatMessage:f}=ne(),h=async()=>{r(!0);const{data:x,error:g}=await K({type:Q.fetch_resource_identifiers});console.log("data",x),r(!1),g?Bt.error(g==null?void 0:g.message):t(x.aids)},w=async x=>{await K({type:Q.create_resource_signin,data:{identifier:x}});const g=await et(),{data:y}=await me(g.id,{type:"tab",subtype:"get-tab-state"});await me(g.id,{type:"tab",subtype:"reload-state",eventType:y==null?void 0:y.tabState}),window.close()};u.useEffect(()=>{h()},[]);const m=async x=>{var v,j;s(!0);const{data:g,error:y}=await K({type:Q.create_resource_identifier,data:{name:x}});if(y)d(y==null?void 0:y.message);else{if(g.done){const b=(j=(v=g==null?void 0:g.name)==null?void 0:v.split("."))==null?void 0:j[1];await w({prefix:b,name:x})}d("")}s(!1)};return n.jsxs(n.Fragment,{children:[n.jsx(U,{flexDirection:"row-reverse",children:n.jsx(G,{handleClick:()=>c(!0),children:n.jsx(n.Fragment,{children:`+ ${f({id:"action.createNew"})}`})})}),o?n.jsx(U,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:n.jsx(ot,{size:6})}):null,n.jsx(Sn,{isOpen:l,handleClose:()=>c(!1),header:n.jsx(k,{fontSize:3,fontWeight:"bold",$color:"subtext",$capitalize:!0,children:f({id:"identifier.create.title"})}),children:n.jsx(Hn,{isLoading:i,handleCreateIdentifier:m,error:a})}),e.map((x,g)=>n.jsx(T,{marginY:2,marginX:3,children:n.jsxs(T,{position:"relative",$hoverableOpacity:!0,children:[n.jsx(Vn,{aid:x}),n.jsx(T,{position:"absolute",right:"2px",bottom:"2px",children:n.jsx(G,{handleClick:()=>w(x),children:n.jsx(n.Fragment,{children:`${f({id:"action.select"})} >`})})})]})},g))]})}function Lr({size:e,scale:t=4}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:e*t,height:e*t,children:n.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"})})}function Tr({size:e,scale:t=4}){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",width:e*t,height:e*t,children:n.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"})})}function Xn({credential:e}){var o;const{formatMessage:t}=ne();return n.jsx(Qe,{children:n.jsxs(n.Fragment,{children:[n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",children:[n.jsx(k,{fontSize:1,fontWeight:"bold",$color:"heading",children:e.schema.title}),n.jsx(An,{size:6})]}),n.jsx(T,{marginBottom:1,fontSize:0,children:n.jsx(k,{$color:"text",children:e.schema.credentialType})}),n.jsx(T,{marginBottom:1,fontSize:0,children:n.jsx(k,{$color:"text",children:e.schema.description})}),n.jsx(T,{marginBottom:1,children:n.jsx(k,{fontSize:0,fontWeight:"bold",$color:"heading",children:n.jsxs(n.Fragment,{children:[t({id:"credential.issuee.label"})," ",n.jsx(Je,{fontWeight:"normal",$color:"text",children:e.issueeName})]})})}),n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",fontSize:0,children:[n.jsxs("div",{children:[n.jsxs(k,{fontWeight:"bold",$color:"heading",children:[t({id:"credential.lastUsed.label"})," "]}),n.jsx(k,{$color:"text",children:"November 08, 2023"})]}),((o=e.status)==null?void 0:o.et)==="iss"?n.jsxs(U,{flexDirection:"column",alignItems:"center",color:"green",children:[n.jsx(Lr,{size:6}),n.jsx(k,{$color:"",children:t({id:"credential.valid"})})]}):n.jsxs(U,{flexDirection:"column",alignItems:"center",color:"red",children:[n.jsx(Tr,{size:6}),n.jsx(k,{$color:"",children:t({id:"credential.revoked"})})]})]})]})})}function $r(){const[e,t]=u.useState([]),[o,r]=u.useState(!1),{formatMessage:i}=ne(),s=async()=>{r(!0);const{data:c,error:a}=await K({type:Q.fetch_resource_credentials});r(!1),a?Bt.error(a==null?void 0:a.message):t(c.credentials)},l=async c=>{await K({type:Q.create_resource_signin,data:{credential:c}});const a=await et(),{data:d}=await me(a.id,{type:"tab",subtype:"get-tab-state"});await me(a.id,{type:"tab",subtype:"reload-state",eventType:d==null?void 0:d.tabState}),window.close()};return u.useEffect(()=>{s()},[]),n.jsxs(n.Fragment,{children:[o?n.jsx(U,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:n.jsx(ot,{size:6})}):null,e.map((c,a)=>{var d,f;return n.jsx(T,{marginY:2,marginX:3,children:n.jsxs(T,{position:"relative",$hoverableOpacity:!0,children:[n.jsx(Xn,{credential:c}),n.jsx(T,{position:"absolute",right:"2px",bottom:"2px",children:c!=null&&c.issueeName?n.jsx(G,{handleClick:()=>l(c),disabled:!(c!=null&&c.issueeName),children:n.jsx(n.Fragment,{children:`${i({id:"action.select"})} >`})}):n.jsxs(n.Fragment,{children:[n.jsx("span",{"data-tooltip-id":(d=c==null?void 0:c.sad)==null?void 0:d.d,children:n.jsx(G,{handleClick:()=>l(c),disabled:!(c!=null&&c.issueeName),children:n.jsx(n.Fragment,{children:`${i({id:"action.select"})} >`})})}),n.jsx(Dn,{id:(f=c==null?void 0:c.sad)==null?void 0:f.d,delayShow:200,children:n.jsx(U,{flexDirection:"row",fontSize:0,$flexGap:1,children:n.jsx(k,{$color:"",children:i({id:"credential.unidentifiedIssuee"})})})})]})})]})},a)})]})}function Or(){const[e,t]=u.useState([]),[o,r]=u.useState(!1),[i,s]=u.useState(!1),[l,c]=u.useState(!1),[a,d]=u.useState(""),{formatMessage:f}=ne(),h=async()=>{const{data:g,error:y}=await K({type:Q.fetch_resource_identifiers});y?Bt.error(y==null?void 0:y.message):t(g.aids)},w=async()=>{r(!0),await h(),r(!1)},m=async()=>{await h(),c(!1)};u.useEffect(()=>{w()},[]);const x=async g=>{s(!0);const{data:y,error:v}=await K({type:Q.create_resource_identifier,data:{name:g}});v?d(v==null?void 0:v.message):(await m(),d("")),s(!1)};return n.jsxs(n.Fragment,{children:[n.jsx(U,{flexDirection:"row-reverse",children:n.jsx(G,{handleClick:()=>c(!0),children:n.jsx(n.Fragment,{children:`+ ${f({id:"action.createNew"})}`})})}),o?n.jsx(U,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:n.jsx(ot,{size:6})}):null,n.jsx(Sn,{isOpen:l,handleClose:()=>c(!1),header:n.jsx(k,{fontWeight:"bold",$color:"subtext",fontSize:3,$capitalize:!0,children:f({id:"identifier.create.title"})}),children:n.jsx(Hn,{isLoading:i,handleCreateIdentifier:x,error:a})}),e.map((g,y)=>n.jsx(T,{marginX:3,marginY:2,children:n.jsx(Vn,{aid:g})},y)),!o&&!(e!=null&&e.length)?n.jsx(k,{fontSize:0,$color:"subtext",children:f({id:"message.noItems"})}):n.jsx(n.Fragment,{})]})}function Rr(){const[e,t]=u.useState([]),[o,r]=u.useState(!1),{formatMessage:i}=ne(),s=async()=>{r(!0);const{data:l,error:c}=await K({type:Q.fetch_resource_credentials});r(!1),c?Bt.error(c==null?void 0:c.message):t(l.credentials)};return u.useEffect(()=>{s()},[]),n.jsxs(n.Fragment,{children:[o?n.jsx(U,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:n.jsx(ot,{size:6})}):null,e.map((l,c)=>n.jsx(T,{marginY:2,marginX:3,children:n.jsx(Xn,{credential:l})},c)),!o&&!(e!=null&&e.length)?n.jsx(k,{fontSize:0,$color:"subtext",children:i({id:"message.noItems"})}):n.jsx(n.Fragment,{})]})}function Ir({size:e,scale:t=4}){return n.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",width:e*t,height:e*t,xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M20 12C20 7.58172 16.4183 4 12 4M12 20C14.5264 20 16.7792 18.8289 18.2454 17",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"}),n.jsx("path",{d:"M4 12H14M14 12L11 9M14 12L11 15",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]})}function Ur({signin:e,handleDelete:t,handleAutoSignin:o}){var i,s,l;const{formatMessage:r}=ne();return n.jsx(Qe,{children:n.jsxs(n.Fragment,{children:[n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",fontSize:0,marginBottom:1,children:[n.jsxs("div",{children:[n.jsx(k,{fontWeight:"bold",$color:"heading",children:r({id:"signin.website"})}),n.jsx(k,{$color:"text",children:e==null?void 0:e.domain})]}),n.jsx(jn,{size:6})]}),n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",fontSize:0,marginBottom:1,children:[n.jsxs("div",{children:[n.jsx(k,{fontWeight:"bold",$color:"heading",children:e!=null&&e.identifier?r({id:"signin.identifierAlias"}):r({id:"credential.title"})}),n.jsx(k,{$color:"text",children:((i=e==null?void 0:e.identifier)==null?void 0:i.name)??((l=(s=e==null?void 0:e.credential)==null?void 0:s.schema)==null?void 0:l.title)})]}),n.jsxs("div",{children:[n.jsx(k,{fontWeight:"bold",$color:"heading",children:r({id:"signin.lastUsed.label"})}),n.jsx(k,{$color:"text",children:new Date(e==null?void 0:e.updatedAt).toDateString()})]})]}),n.jsxs(U,{flexDirection:"row",justifyContent:"space-between",fontSize:0,children:[n.jsxs("div",{children:[n.jsx(k,{fontWeight:"bold",$color:"heading",children:r({id:"signin.autoSignin"})}),n.jsx(eo,{isChecked:!!e.autoSignin,handleToggle:o,icon:n.jsx(Ir,{size:4})})]}),n.jsx(U,{alignItems:"end",children:n.jsx(G,{handleClick:t,children:n.jsx(n.Fragment,{children:r({id:"action.delete"})})})})]})]})})}function Mr(){const[e,t]=u.useState([]),[o,r]=u.useState(!1),{formatMessage:i}=ne(),s=async()=>{r(!0);const{data:a}=await K({type:Q.fetch_resource_signins});t(a==null?void 0:a.signins),r(!1)},l=async a=>{const{data:d}=await K({type:Q.delete_resource_signins,data:{id:a}});if(d!=null&&d.isDeleted){t(d==null?void 0:d.signins);const f=await et(),{data:h}=await me(f.id,{type:"tab",subtype:"get-tab-state"});me(f.id,{type:"tab",subtype:"reload-state",eventType:h==null?void 0:h.tabState})}},c=async a=>{const{data:d}=await K({type:Q.update_resource_auto_signin,data:{signin:a}});if(d!=null&&d.signins){t(d==null?void 0:d.signins);const f=await et(),{data:h}=await me(f.id,{type:"tab",subtype:"get-tab-state"});me(f.id,{type:"tab",subtype:"reload-state",eventType:h==null?void 0:h.tabState})}};return u.useEffect(()=>{s()},[]),n.jsxs(n.Fragment,{children:[o?n.jsx(U,{flexDirection:"row",justifyContent:"center",alignItems:"center",children:n.jsx(ot,{size:6})}):null,e.map(a=>n.jsx(T,{marginY:2,marginX:3,children:n.jsx(Ur,{signin:a,handleDelete:()=>l(a.id),handleAutoSignin:()=>c(a)})},a.id)),!o&&!(e!=null&&e.length)?n.jsx(k,{fontSize:0,$color:"",children:i({id:"message.noItems"})}):n.jsx(n.Fragment,{})]})}const Br=ye(T)`
  background-color: ${e=>{var t,o;return(o=(t=e.theme)==null?void 0:t.colors)==null?void 0:o.secondary}};
  color: ${e=>{var t,o;return(o=(t=e.theme)==null?void 0:t.colors)==null?void 0:o.text}};
`;function Nr(e){const[t,o]=u.useState(pt[0]),[r,i]=u.useState(ge.NONE),s=async()=>{const c=await et(),{data:a}=await me(c.id,{type:"tab",subtype:"get-tab-state"});a&&a!=null&&a.tabState&&(i(a==null?void 0:a.tabState),((a==null?void 0:a.tabState)===ge.SELECT_IDENTIFIER||(a==null?void 0:a.tabState)===ge.SELECT_CREDENTIAL||(a==null?void 0:a.tabState)===ge.SELECT_ID_CRED)&&o((a==null?void 0:a.tabState)===ge.SELECT_IDENTIFIER||(a==null?void 0:a.tabState)===ge.SELECT_ID_CRED?pt[0]:pt[1]),(a==null?void 0:a.tabState)===ge.SELECT_AUTO_SIGNIN&&o(pt[2]))};u.useEffect(()=>{s()},[]);const l=()=>{switch(t==null?void 0:t.id){case wt.credentials:return r===ge.SELECT_CREDENTIAL||r===ge.SELECT_ID_CRED?n.jsx($r,{}):n.jsx(Rr,{});case wt.signin:return n.jsx(Mr,{});default:return r===ge.SELECT_IDENTIFIER||r===ge.SELECT_ID_CRED?n.jsx(Ar,{}):n.jsx(Or,{})}};return n.jsxs(to,{width:"640px",children:[n.jsx(Uo,{active:t,onClickLink:o,onSignout:e.handleDisconnect,logo:e==null?void 0:e.logo,title:e==null?void 0:e.title}),n.jsx(Br,{padding:2,borderRadius:1,marginRight:3,marginTop:3,marginLeft:"192px",children:n.jsxs("div",{children:[n.jsx(k,{fontSize:3,fontWeight:"bold",$color:"subtext",$capitalize:!0,children:t==null?void 0:t.title}),n.jsx(T,{margin:3,maxHeight:"576px",overflow:"auto",children:l()})]})})]})}const zr=no`
  body {
    background: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.bodyBg}};
    color: ${({theme:e})=>{var t;return(t=e==null?void 0:e.colors)==null?void 0:t.bodyColor}};
    border: ${({theme:e})=>{var t,o;return`1px solid ${((t=e==null?void 0:e.colors)==null?void 0:t.bodyBorder)??((o=e==null?void 0:e.colors)==null?void 0:o.bodyBg)}`}};
    transition: background 0.2s ease-in, color 0.2s ease-in;
  }

  ul {
    list-style-type: none;
    padding: 0;

    > li {
      margin-bottom: 8px;
    }
  }
`,Pr=ye(T)`
  color: ${e=>{var t,o;return(o=(t=e.theme)==null?void 0:t.colors)==null?void 0:o.primary}};
`;function Wr(){const[e,t]=u.useState(ho),[o,r]=u.useState(!1),[i,s]=u.useState(!1),[l,c]=u.useState(!1),[a,d]=u.useState(!1),[f,h]=u.useState(!1),[w,m]=u.useState(""),[x,g]=u.useState(!1),y=async()=>{const D=(await V.getWebRequestedPermissions())[Cn.SET_VENDOR_URL];c(D)},v=async()=>{const B=await V.getAgentAndVendorInfo();B.vendorData&&t(B.vendorData),(!B.agentUrl||!B.hasOnboarded)&&r(!0)},j=async()=>{g(!0),await y(),await b(),g(!1)},b=async()=>{const{data:B}=await K({type:Q.authentication_check_agent_connection});if(d(!!B.isConnected),B.isConnected){const D=await et(),{data:_}=await me(D.id,{type:"tab",subtype:"get-tab-state"});me(D.id,{type:"tab",subtype:"reload-state",eventType:_==null?void 0:_.tabState})}};u.useEffect(()=>{v(),j()},[]);const I=async B=>{const D=await V.getAgentUrl(),_=await V.getBootUrl(),C=ke(D);if(!C||!(C!=null&&C.origin))return;h(!0);const{data:fe,error:M}=await K({type:Q.authentication_boot_connect_agent,data:{passcode:B,agentUrl:D,bootUrl:_}});h(!1),M?(m(M==null?void 0:M.message),setTimeout(()=>{m("")},3e3)):(s(!1),await b())},O=async B=>{h(!0);const D=await V.getAgentUrl(),{data:_,error:C}=await K({type:Q.authentication_connect_agent,data:{passcode:B,agentUrl:D}});h(!1),C?(m(C==null?void 0:C.message),setTimeout(()=>{m("")},3e3)):await b()},W=async()=>{await K({type:Q.authentication_disconnect_agent}),b()},$=async()=>{await K({type:Q.authentication_disconnect_agent}),await b(),v(),y()},A=(e==null?void 0:e.logo)??"/128_keri_logo.png";return n.jsxs(oo,{children:[n.jsx(ro,{position:"bottom-right",toastOptions:{style:{borderRadius:"10px",background:"#333",color:"#fff"}}}),n.jsxs(io,{theme:e==null?void 0:e.theme,children:[n.jsx(zr,{}),n.jsx("div",{children:x?n.jsx(T,{width:"300px",children:n.jsx(Pr,{margin:"auto",width:64,height:64,children:n.jsx(ot,{size:12})})}):n.jsx(n.Fragment,{children:l?n.jsx(T,{width:"300px",children:n.jsx(wo,{isConnected:a,permissionData:l,afterCallback:()=>{v(),y()},handleDisconnect:$})}):i?n.jsx(T,{width:"300px",children:n.jsx(ko,{isLoading:f,handleBootAndConnect:I,signupError:w})}):n.jsx(n.Fragment,{children:a?n.jsx(Nr,{handleDisconnect:W,logo:A,title:e==null?void 0:e.title}):n.jsx(T,{width:"300px",children:n.jsx(So,{signinError:w,handleConnect:O,isLoading:f,logo:A,title:e==null?void 0:e.title,afterSetUrl:v,vendorData:e,showConfig:o,setShowConfig:r,handleSignup:()=>s(!0)})})})})})]})]})}function Fr(){const e=document.querySelector("#__root");if(!e)throw new Error("Can't find Popup root element");so(e).render(n.jsx(Wr,{})),go.runtime.onMessage.addListener(function(o,r,i){if(r.id===mo()&&!r.tab&&o.type===xo.check_popup_open)return Promise.resolve({data:{isOpened:!0}})})}Fr();
